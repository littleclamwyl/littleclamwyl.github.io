<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.2.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"example.com","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="要讲武德，要努力学习。">
<meta property="og:type" content="website">
<meta property="og:title" content="浑元形意太极门大弟子">
<meta property="og:url" content="http://example.com/index.html">
<meta property="og:site_name" content="浑元形意太极门大弟子">
<meta property="og:description" content="要讲武德，要努力学习。">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="Yulin Wang">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://example.com/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'zh-CN'
  };
</script>

  <title>浑元形意太极门大弟子</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">浑元形意太极门大弟子</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">师承马保国，以武会友。</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2020/12/02/Python_Learning/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Yulin Wang">
      <meta itemprop="description" content="要讲武德，要努力学习。">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="浑元形意太极门大弟子">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/12/02/Python_Learning/" class="post-title-link" itemprop="url">Python Learning</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-12-02 10:38:23" itemprop="dateCreated datePublished" datetime="2020-12-02T10:38:23+08:00">2020-12-02</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-12-06 16:37:25" itemprop="dateModified" datetime="2020-12-06T16:37:25+08:00">2020-12-06</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="1-Python-基本知识——一直到第7章，均用Jupyter开发环境"><a href="#1-Python-基本知识——一直到第7章，均用Jupyter开发环境" class="headerlink" title="1. Python 基本知识——一直到第7章，均用Jupyter开发环境"></a>1. Python 基本知识——一直到第7章，均用Jupyter开发环境</h2><h3 id="一、-优缺点和特点"><a href="#一、-优缺点和特点" class="headerlink" title="一、 优缺点和特点"></a>一、 优缺点和特点</h3><p>代码-&gt;翻译-&gt;机器语言010101</p>
<p>优点：</p>
<p>开源</p>
<p>丰富的第三方库：</p>
<p>web开发-&gt;django/flask/tornado</p>
<p>爬虫-&gt;scrapy</p>
<p>数据分析-&gt;numpy/pandas/scikit-learn</p>
<p>缺点：</p>
<p>GIL全局解释器锁</p>
<p>解释语言（Python）-&gt;解释器-&gt;CPU</p>
<p>编译语言（C）-&gt;CPU-&gt;运行速度更快</p>
<h3 id="二、-注释"><a href="#二、-注释" class="headerlink" title="二、 注释"></a>二、 注释</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#这是单行注释</span></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27; </span></span><br><span class="line"><span class="string">多行注释</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#特殊注释</span></span><br><span class="line"><span class="comment">#1.针对Linux</span></span><br><span class="line"><span class="comment">#指定Python的解析器路径</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#2.编码注释</span></span><br><span class="line"><span class="comment">#coding = utf-8 </span></span><br></pre></td></tr></table></figure>
<p>ASCII最大字符数256 -&gt; UNICODE 65536个字符，可以包含所有语言的所有字符，就不会乱码了。</p>
<p>UNICODE只规定了每个字符的数字编码，但没有规定这个字符如何存储。</p>
<ol>
<li><p>utf-8/utf-16/utf-32是Unicode的一种具体实现</p>
</li>
<li><p>gbk是中文编码</p>
</li>
</ol>
<p>数据结构 + 算法 = 程序</p>
<p>变量：一段有名字的连续存储空间</p>
<p>可以通过定义变量来申请并命名这样的存储空间。</p>
<p>Python是强类型的数据，不需要定义变量的类型。赋值是什么类型的数据，变量就是什么类型的。</p>
<h3 id="三、-基本操作符"><a href="#三、-基本操作符" class="headerlink" title="三、 基本操作符"></a>三、 基本操作符</h3><p><strong>注意优先级顺序：</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 算术运算符</span></span><br><span class="line">+ <span class="comment">#加</span></span><br><span class="line">- <span class="comment">#减</span></span><br><span class="line">* <span class="comment">#乘</span></span><br><span class="line">/ <span class="comment">#除</span></span><br><span class="line">** <span class="comment">#指数</span></span><br><span class="line">% <span class="comment">#求余数</span></span><br><span class="line">// <span class="comment">#求商去除余数</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 比较运算符</span></span><br><span class="line">== </span><br><span class="line">!=</span><br><span class="line">&gt;</span><br><span class="line">&lt; </span><br><span class="line">&gt;=</span><br><span class="line">&lt;=</span><br><span class="line"></span><br><span class="line"><span class="comment"># 逻辑运算符</span></span><br><span class="line"><span class="keyword">and</span></span><br><span class="line"><span class="keyword">or</span></span><br><span class="line"><span class="keyword">not</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 赋值运算符</span></span><br><span class="line">=</span><br><span class="line">+=</span><br><span class="line">...</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="四、-格式化输入和输出"><a href="#四、-格式化输入和输出" class="headerlink" title="四、 格式化输入和输出"></a>四、 格式化输入和输出</h3><p><strong>注意</strong>： 前后的个数一致</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 输出</span></span><br><span class="line"><span class="comment"># %占位符</span></span><br><span class="line">name = <span class="string">&#x27;Little&#x27;</span></span><br><span class="line">classPro = <span class="string">&#x27;Class 1&#x27;</span> </span><br><span class="line"></span><br><span class="line"><span class="comment"># 第一种 %d, %s %()</span></span><br><span class="line">print(<span class="string">&quot;我的名字是: %s 来自【%s】&quot;</span> %(name, classPro))</span><br><span class="line">&gt;&gt;我的名字是: Little 来自【Class <span class="number">1</span>】</span><br><span class="line">    </span><br><span class="line"><span class="comment"># 第二种 &#123;&#125; .format()</span></span><br><span class="line">print(<span class="string">&quot;姓名:&#123;&#125;&quot;</span>.<span class="built_in">format</span>(name))</span><br><span class="line">&gt;&gt;姓名:Little</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    </span><br><span class="line"><span class="comment"># 输入    </span></span><br><span class="line"><span class="comment"># input</span></span><br><span class="line"><span class="comment"># 类型都是str</span></span><br><span class="line">name = <span class="built_in">input</span>(<span class="string">&quot;请输入你的姓名：&quot;</span>)</span><br><span class="line">Number = <span class="built_in">input</span>(<span class="string">&quot;请输入你的电话：&quot;</span>)</span><br><span class="line">&gt;&gt;请输入你的姓名：Little</span><br><span class="line">&gt;&gt;请输入你的电话：</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="2-Python-判断语句和流程控制"><a href="#2-Python-判断语句和流程控制" class="headerlink" title="2. Python 判断语句和流程控制"></a>2. Python 判断语句和流程控制</h2><p>流程：计算机执行代码的顺序</p>
<p>流程控制：对计算机代码执行的顺序进行有效的管理</p>
<p>流程控制的分类：</p>
<ol>
<li><p>顺序 </p>
</li>
<li><p>循环</p>
</li>
<li><p>判断/选择</p>
</li>
</ol>
<h3 id="一、-if-else"><a href="#一、-if-else" class="headerlink" title="一、 if-else"></a>一、 if-else</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 判断/选择</span></span><br><span class="line"><span class="comment">#1. 单分支</span></span><br><span class="line"><span class="keyword">if</span> 条件表达式:</span><br><span class="line">    ...</span><br><span class="line"><span class="comment">#2. 双分支</span></span><br><span class="line"><span class="keyword">if</span> 条件表达式:</span><br><span class="line">    ...</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    ...</span><br><span class="line">    </span><br><span class="line"><span class="comment">#3. 多分支</span></span><br><span class="line"><span class="keyword">if</span> 条件表达式:</span><br><span class="line">    ...</span><br><span class="line">       </span><br><span class="line"><span class="keyword">elif</span> 条件表达式:</span><br><span class="line">    ...</span><br><span class="line">       </span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    ...</span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#例子1</span></span><br><span class="line">Score = <span class="number">87</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> Score &lt;= <span class="number">60</span>:</span><br><span class="line">    print(<span class="string">&quot;继续努力。&quot;</span>)</span><br><span class="line">    <span class="keyword">pass</span> <span class="comment">#空语句</span></span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    print(<span class="string">&quot;干的不错。&quot;</span>)</span><br><span class="line">print(<span class="string">&quot;语句运行结束。&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#例子2</span></span><br><span class="line">Score = <span class="built_in">int</span>(<span class="built_in">input</span>(<span class="string">&quot;请输入您的成绩：&quot;</span>))</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> Score &lt;= <span class="number">60</span>:</span><br><span class="line">    print(<span class="string">&quot;继续努力。&quot;</span>)</span><br><span class="line">    <span class="keyword">pass</span> <span class="comment">#空语句</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">elif</span> Score &gt; <span class="number">80</span>:</span><br><span class="line">    print(<span class="string">&quot;做得很好，继续保持。&quot;</span>)</span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    print(<span class="string">&quot;干的不错。&quot;</span>)</span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line">&gt;&gt;请输入您的成绩：<span class="number">55</span></span><br><span class="line">&gt;&gt;继续努力。</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#嵌套</span></span><br><span class="line"><span class="keyword">if</span> 条件<span class="number">1</span>:</span><br><span class="line">    <span class="keyword">if</span> 条件<span class="number">2</span>:</span><br><span class="line">        print(<span class="string">&quot;满足条件1，满足条件2&quot;</span>)</span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        print(<span class="string">&quot;满足条件1，不满足条件2&quot;</span>)</span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    print(<span class="string">&quot;不满足条件1&quot;</span>)</span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>条件表达式：比较表达式/逻辑表达式/符合表达式</p>
<h3 id="二、-while"><a href="#二、-while" class="headerlink" title="二、 while"></a>二、 while</h3><ol>
<li>有初始值</li>
<li>有条件表达式</li>
<li>自增变量/自减【循环体内计数变量】，否则会死循环</li>
</ol>
<p>特点：循环的次数不确定，是依靠循环条件结束。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span> 条件表达式:</span><br><span class="line">   ...</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#例子</span></span><br><span class="line">i = <span class="number">0</span></span><br><span class="line"><span class="keyword">while</span> i &lt;= <span class="number">5</span>:</span><br><span class="line">    print(<span class="string">&quot;此次输出的是: %s&quot;</span> %(i))</span><br><span class="line">    i = i+<span class="number">1</span></span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line">&gt;&gt;此次输出的是: <span class="number">0</span></span><br><span class="line">&gt;&gt;此次输出的是: <span class="number">1</span></span><br><span class="line">&gt;&gt;此次输出的是: <span class="number">2</span></span><br><span class="line">&gt;&gt;此次输出的是: <span class="number">3</span></span><br><span class="line">&gt;&gt;此次输出的是: <span class="number">4</span></span><br><span class="line">&gt;&gt;此次输出的是: <span class="number">5</span></span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line">    </span><br><span class="line"><span class="comment"># 打印99乘法表</span></span><br><span class="line">row = <span class="number">1</span></span><br><span class="line"><span class="keyword">while</span> row &lt;= <span class="number">9</span>:</span><br><span class="line">    col = <span class="number">1</span></span><br><span class="line">    <span class="keyword">while</span> col &lt;= row:</span><br><span class="line">        print(<span class="string">&quot;%d*%d=%d&quot;</span> %(col, row, col*row), end = <span class="string">&quot; &quot;</span>)</span><br><span class="line">        col = col + <span class="number">1</span></span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line">    print(<span class="string">&quot;&quot;</span>)</span><br><span class="line">    row = row + <span class="number">1</span></span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&gt;&gt;<span class="number">1</span>*<span class="number">1</span>=<span class="number">1</span> </span><br><span class="line">&gt;&gt;<span class="number">1</span>*<span class="number">2</span>=<span class="number">2</span> <span class="number">2</span>*<span class="number">2</span>=<span class="number">4</span> </span><br><span class="line">&gt;&gt;<span class="number">1</span>*<span class="number">3</span>=<span class="number">3</span> <span class="number">2</span>*<span class="number">3</span>=<span class="number">6</span> <span class="number">3</span>*<span class="number">3</span>=<span class="number">9</span> </span><br><span class="line">&gt;&gt;<span class="number">1</span>*<span class="number">4</span>=<span class="number">4</span> <span class="number">2</span>*<span class="number">4</span>=<span class="number">8</span> <span class="number">3</span>*<span class="number">4</span>=<span class="number">12</span> <span class="number">4</span>*<span class="number">4</span>=<span class="number">16</span> </span><br><span class="line">&gt;&gt;<span class="number">1</span>*<span class="number">5</span>=<span class="number">5</span> <span class="number">2</span>*<span class="number">5</span>=<span class="number">10</span> <span class="number">3</span>*<span class="number">5</span>=<span class="number">15</span> <span class="number">4</span>*<span class="number">5</span>=<span class="number">20</span> <span class="number">5</span>*<span class="number">5</span>=<span class="number">25</span> </span><br><span class="line">&gt;&gt;<span class="number">1</span>*<span class="number">6</span>=<span class="number">6</span> <span class="number">2</span>*<span class="number">6</span>=<span class="number">12</span> <span class="number">3</span>*<span class="number">6</span>=<span class="number">18</span> <span class="number">4</span>*<span class="number">6</span>=<span class="number">24</span> <span class="number">5</span>*<span class="number">6</span>=<span class="number">30</span> <span class="number">6</span>*<span class="number">6</span>=<span class="number">36</span> </span><br><span class="line">&gt;&gt;<span class="number">1</span>*<span class="number">7</span>=<span class="number">7</span> <span class="number">2</span>*<span class="number">7</span>=<span class="number">14</span> <span class="number">3</span>*<span class="number">7</span>=<span class="number">21</span> <span class="number">4</span>*<span class="number">7</span>=<span class="number">28</span> <span class="number">5</span>*<span class="number">7</span>=<span class="number">35</span> <span class="number">6</span>*<span class="number">7</span>=<span class="number">42</span> <span class="number">7</span>*<span class="number">7</span>=<span class="number">49</span> </span><br><span class="line">&gt;&gt;<span class="number">1</span>*<span class="number">8</span>=<span class="number">8</span> <span class="number">2</span>*<span class="number">8</span>=<span class="number">16</span> <span class="number">3</span>*<span class="number">8</span>=<span class="number">24</span> <span class="number">4</span>*<span class="number">8</span>=<span class="number">32</span> <span class="number">5</span>*<span class="number">8</span>=<span class="number">40</span> <span class="number">6</span>*<span class="number">8</span>=<span class="number">48</span> <span class="number">7</span>*<span class="number">8</span>=<span class="number">56</span> <span class="number">8</span>*<span class="number">8</span>=<span class="number">64</span> </span><br><span class="line">&gt;&gt;<span class="number">1</span>*<span class="number">9</span>=<span class="number">9</span> <span class="number">2</span>*<span class="number">9</span>=<span class="number">18</span> <span class="number">3</span>*<span class="number">9</span>=<span class="number">27</span> <span class="number">4</span>*<span class="number">9</span>=<span class="number">36</span> <span class="number">5</span>*<span class="number">9</span>=<span class="number">45</span> <span class="number">6</span>*<span class="number">9</span>=<span class="number">54</span> <span class="number">7</span>*<span class="number">9</span>=<span class="number">63</span> <span class="number">8</span>*<span class="number">9</span>=<span class="number">72</span> <span class="number">9</span>*<span class="number">9</span>=<span class="number">81</span> </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#打印直角三角形</span></span><br><span class="line">row = <span class="number">9</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> row &gt;= <span class="number">1</span>:</span><br><span class="line">    pattern_num = <span class="number">1</span></span><br><span class="line">    <span class="keyword">while</span> pattern_num &lt;= row:</span><br><span class="line">        print(<span class="string">&quot;*&quot;</span>, end=<span class="string">&quot; &quot;</span>)</span><br><span class="line">        pattern_num = pattern_num+<span class="number">1</span></span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line">    print(<span class="string">&quot;&quot;</span>)</span><br><span class="line">    row = row - <span class="number">1</span></span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&gt;&gt;* * * * * * * * * </span><br><span class="line">&gt;&gt;* * * * * * * * </span><br><span class="line">&gt;&gt;* * * * * * * </span><br><span class="line">&gt;&gt;* * * * * * </span><br><span class="line">&gt;&gt;* * * * * </span><br><span class="line">&gt;&gt;* * * * </span><br><span class="line">&gt;&gt;* * * </span><br><span class="line">&gt;&gt;* * </span><br><span class="line">&gt;&gt;*</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 打印等腰三角形</span></span><br><span class="line">row = <span class="number">5</span></span><br><span class="line"><span class="keyword">while</span> row &gt;= <span class="number">1</span>:</span><br><span class="line">    j = <span class="number">1</span></span><br><span class="line">    <span class="keyword">while</span> j &lt;= row: <span class="comment">#控制打印空格，总行数-所在行=打印的空格数</span></span><br><span class="line">        print(<span class="string">&quot;!&quot;</span>, end = <span class="string">&quot;&quot;</span>)</span><br><span class="line">        j = j+<span class="number">1</span></span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line">    </span><br><span class="line">    j=<span class="number">1</span></span><br><span class="line">    <span class="keyword">while</span> j&lt;=(<span class="number">5</span>-row)*<span class="number">2</span>+<span class="number">1</span>: <span class="comment">#控制打印*，所在行*2-1=*的数量</span></span><br><span class="line">        print(<span class="string">&quot;*&quot;</span>, end = <span class="string">&quot;&quot;</span>)</span><br><span class="line">        j = j+<span class="number">1</span></span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line">    </span><br><span class="line">    row = row - <span class="number">1</span></span><br><span class="line">    print(<span class="string">&quot;&quot;</span>)</span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line">&gt;&gt;: <span class="comment">#代表输出</span></span><br><span class="line">!!!!!*</span><br><span class="line">!!!!***</span><br><span class="line">!!!*****</span><br><span class="line">!!*******</span><br><span class="line">!*********       </span><br></pre></td></tr></table></figure>
<h3 id="三、-for"><a href="#三、-for" class="headerlink" title="三、 for"></a>三、 for</h3><p>遍历操作，依次取集合容器中的每一个值。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> ... <span class="keyword">in</span> 集合对象:   </span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"><span class="comment">#例子1</span></span><br><span class="line">a = <span class="string">&#x27;python&#x27;</span> <span class="comment">#字符串类型本身就是一个字符类型的集合</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> a:</span><br><span class="line">    print(<span class="string">&quot;字母：%s&quot;</span> %(i), end = <span class="string">&quot; &quot;</span>)</span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line">&gt;&gt;:</span><br><span class="line">字母：p 字母：y 字母：t 字母：h 字母：o 字母：n </span><br><span class="line"></span><br><span class="line"><span class="comment">#range[,) 左闭右开 </span></span><br></pre></td></tr></table></figure>
<h3 id="四、-break-continue"><a href="#四、-break-continue" class="headerlink" title="四、 break, continue"></a>四、 break, continue</h3><p>只可以用在循环中。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#break 结束本层循环</span></span><br><span class="line"><span class="comment">#continue 结束本次循环，继续下一次循环</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#例子</span></span><br><span class="line"><span class="built_in">sum</span> = <span class="number">0</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, <span class="number">101</span>):</span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">sum</span>&gt;= <span class="number">100</span>:</span><br><span class="line">        print(<span class="string">&quot;求和加到第%d个就结束了，且该数字没有计算进和中。&quot;</span>%i)</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="built_in">sum</span> += i</span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line">print(<span class="string">&quot;sum is:%d&quot;</span>%<span class="built_in">sum</span>)</span><br><span class="line"></span><br><span class="line">&gt;&gt;:</span><br><span class="line">求和加到第<span class="number">15</span>个就结束了，且该数字没有计算进和中。</span><br><span class="line"><span class="built_in">sum</span> <span class="keyword">is</span>:<span class="number">105</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#例子</span></span><br><span class="line"><span class="keyword">for</span> item <span class="keyword">in</span> <span class="string">&#x27;I love python&#x27;</span>:</span><br><span class="line">    <span class="keyword">if</span> item == <span class="string">&quot;e&quot;</span>:</span><br><span class="line">        <span class="keyword">continue</span></span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line">    print(item, end = <span class="string">&quot;&quot;</span>)</span><br><span class="line">&gt;&gt;:</span><br><span class="line">I lov python</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="五、-多条件和短路"><a href="#五、-多条件和短路" class="headerlink" title="五、 多条件和短路"></a>五、 多条件和短路</h3><h2 id="3-Python-数据结构"><a href="#3-Python-数据结构" class="headerlink" title="3. Python 数据结构"></a>3. Python 数据结构</h2><p><strong>序列</strong>：在Python中，序列是一组按照顺序排列的值（数据集合）</p>
<p>Python中的序列：字符串 —— 列表 —— 元组</p>
<p>优点：支持索引和切片的操作</p>
<p>特征：第一个正索引为0，指向左端；第一个索引为负数-1，指向右端，倒数第一个，-2则倒数第二个。</p>
<p><strong>Python数据类型</strong>：</p>
<p>基础类型：</p>
<ol>
<li>num: int/float/complex/bool</li>
<li>str</li>
</ol>
<p>高级类型（数据结构）：</p>
<ol>
<li>dict 字典</li>
<li>tuple 元组</li>
<li>list 列表</li>
<li>set 集合</li>
</ol>
<h3 id="1-字符串-‘’"><a href="#1-字符串-‘’" class="headerlink" title="1. 字符串 ‘’"></a>1. 字符串 ‘’</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#索引会越界，但是切片不会</span></span><br><span class="line"><span class="comment">#[起始索引:终结索引:步长]  两个连续取的数据间隔（步长-1）个数据</span></span><br><span class="line">alist = [<span class="number">1</span>, <span class="number">10</span>, <span class="number">25</span>, <span class="string">&#x27;dog&#x27;</span>, <span class="string">&#x27;apple&#x27;</span>]</span><br><span class="line">print(<span class="string">&quot;正常索引：&quot;</span>, alist[<span class="number">2</span>])</span><br><span class="line"><span class="comment">#print(&quot;越界索引：&quot;, alist[5]) 会报错</span></span><br><span class="line">print(<span class="string">&quot;切片不越界：&quot;</span>, alist[<span class="number">0</span>:<span class="number">5</span>:<span class="number">2</span>])</span><br><span class="line">print(<span class="string">&quot;切片不越界：&quot;</span>, alist[<span class="number">0</span>:<span class="number">50</span>:<span class="number">2</span>])</span><br><span class="line"></span><br><span class="line">&gt;&gt;:</span><br><span class="line">正常索引： <span class="number">25</span></span><br><span class="line">切片不越界： [<span class="number">1</span>, <span class="number">25</span>, <span class="string">&#x27;apple&#x27;</span>]</span><br><span class="line">切片不越界： [<span class="number">1</span>, <span class="number">25</span>, <span class="string">&#x27;apple&#x27;</span>]    </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#常用内置函数</span></span><br><span class="line">.capitalize() <span class="comment">#首字母变大写</span></span><br><span class="line">.isalnum()<span class="comment">#判断是否是字母和数字</span></span><br><span class="line">.islower()<span class="comment">#判断是否是小写</span></span><br><span class="line">.swapcase()<span class="comment">#大写变小写，小写变大写</span></span><br><span class="line">.title()<span class="comment">#把每个单词的首字母变大写</span></span><br><span class="line">.isalpha()<span class="comment">#判断是否是字母</span></span><br><span class="line">.endswith/startswith()<span class="comment">#是否x结束/开始</span></span><br><span class="line">.join()<span class="comment">#循环取出所有值用xx去连接</span></span><br><span class="line">.lstrip/rstrip/strip()<span class="comment">#移除左/右/两侧空白</span></span><br><span class="line">.replace(old, new, count=<span class="literal">None</span>)<span class="comment">#用new代替old，count = 换多少个</span></span><br><span class="line">.isdigit()<span class="comment">#判断是否是数字</span></span><br><span class="line">.find()<span class="comment">#检测x是否在字符串中 和 index()有区别。区别在于前者找不到报-1，后者报错</span></span><br><span class="line">.lower/upper()<span class="comment">#大小写转换</span></span><br><span class="line">.split()<span class="comment">#切割字符串</span></span><br><span class="line">.count()<span class="comment">#统计出现的次数</span></span><br><span class="line"></span><br><span class="line">Myname = <span class="string">&#x27;python o Python&#x27;</span></span><br><span class="line"></span><br><span class="line">print(<span class="built_in">type</span>(Myname))</span><br><span class="line"><span class="comment">#&gt;&gt;: &lt;class &#x27;str&#x27;&gt;</span></span><br><span class="line"></span><br><span class="line">print(<span class="string">&quot;获取第一个字符：%s&quot;</span>%Myname[<span class="number">0</span>])</span><br><span class="line"><span class="comment">#&gt;&gt;: 获取第一个字符：p</span></span><br><span class="line"></span><br><span class="line">print(<span class="string">&quot;首字母大写%s&quot;</span>%(Myname.capitalize()))</span><br><span class="line"><span class="comment">#&gt;&gt;: 首字母大写Python</span></span><br><span class="line"></span><br><span class="line">print(<span class="string">&quot;寻找不存在的字母：%d&quot;</span>%(Myname.find(<span class="string">&#x27;b&#x27;</span>)))</span><br><span class="line"><span class="comment">#&gt;&gt;: 寻找不存在的字母：-1</span></span><br><span class="line"></span><br><span class="line">print(<span class="string">&quot;寻找存在的字母（多个）：%d&quot;</span>%(Myname.find(<span class="string">&#x27;o&#x27;</span>)))</span><br><span class="line"><span class="comment">#&gt;&gt;: 寻找存在的字母（多个）：4</span></span><br><span class="line"></span><br><span class="line">join_method = <span class="string">&#x27;-&#x27;</span></span><br><span class="line">print(<span class="string">&quot;使用str连接str.join(sequence)的结果是%s&quot;</span>%join_method.join(Myname))</span><br><span class="line"><span class="comment">#&gt;&gt;: 使用str连接str.join(sequence)的结果是p-y-t-h-o-n- -o- -P-y-t-h-o-n</span></span><br><span class="line"></span><br><span class="line">Hisname = Myname</span><br><span class="line">print(<span class="string">&quot;My name address: %d, His name address %d.&quot;</span>%(<span class="built_in">id</span>(Myname), <span class="built_in">id</span>(Hisname))) <span class="comment"># 返回地址</span></span><br><span class="line"><span class="comment">#&gt;&gt;: My name address: 1964999697840, His name address 1964999697840.</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">strMsg = <span class="string">&#x27;Hello world&#x27;</span></span><br><span class="line"><span class="comment">#slice[start:end:step] 左闭右开 start&lt;=value&lt;end</span></span><br><span class="line">print(strMsg[<span class="number">2</span>:<span class="number">7</span>])<span class="comment">#输出2,3,4,5,6</span></span><br><span class="line"><span class="comment">#&gt;&gt;: llo w</span></span><br><span class="line">print(strMsg[<span class="number">2</span>:])<span class="comment">#从索引为2至最后</span></span><br><span class="line"><span class="comment">#&gt;&gt;: llo world</span></span><br><span class="line">print(strMsg[<span class="number">2</span>:<span class="number">-1</span>])<span class="comment">#从索引为2至倒数第二</span></span><br><span class="line"><span class="comment">#&gt;&gt;: llo worl</span></span><br><span class="line">print(strMsg[::<span class="number">-1</span>])<span class="comment">#倒叙输出</span></span><br><span class="line"><span class="comment">#&gt;&gt;: dlrow olleH</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="2-列表"><a href="#2-列表" class="headerlink" title="2. 列表 []"></a>2. 列表 []</h3><ol>
<li>增删改查</li>
<li>列表中的数据可以改变，但是内存地址不会改变</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#列表的使用</span></span><br><span class="line"></span><br><span class="line">alist = [<span class="number">1</span>, <span class="number">10</span>, <span class="number">25</span>, <span class="string">&#x27;apple&#x27;</span>, <span class="string">&#x27;你好&#x27;</span>, <span class="literal">True</span>, <span class="number">13.88</span>]</span><br><span class="line">print(<span class="string">&quot;list的类型：%s&quot;</span>%<span class="built_in">type</span>(alist))</span><br><span class="line"><span class="comment">#&gt;&gt;: list的类型：&lt;class &#x27;list&#x27;&gt;</span></span><br><span class="line"></span><br><span class="line">blist = [alist, <span class="number">2</span>]</span><br><span class="line">print(blist)</span><br><span class="line"><span class="comment">#&gt;&gt;: [[1, 10, 25, &#x27;apple&#x27;, &#x27;你好&#x27;, True, 13.88], 2]</span></span><br><span class="line"></span><br><span class="line">print(alist[<span class="number">2</span>:<span class="number">8</span>:<span class="number">2</span>])</span><br><span class="line"><span class="comment">#&gt;&gt;: [25, &#x27;你好&#x27;, 13.88]</span></span><br><span class="line"></span><br><span class="line">print(alist[::<span class="number">-1</span>])</span><br><span class="line"><span class="comment">#&gt;&gt;: [13.88, True, &#x27;你好&#x27;, &#x27;apple&#x27;, 25, 10, 1]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#alist.append(content)</span></span><br><span class="line"><span class="comment">#alist.insert(position, content)</span></span><br><span class="line"></span><br><span class="line">print(<span class="string">&quot;没有添加数据之前的alist:&quot;</span>, alist)</span><br><span class="line"><span class="comment">#&gt;&gt;: print(&quot;没有添加数据之前的alist:&quot;, alist)</span></span><br><span class="line">alist.append(<span class="string">&#x27;A&#x27;</span>)</span><br><span class="line">print(<span class="string">&quot;添加数据之后的alist:&quot;</span>, alist)</span><br><span class="line"><span class="comment">#&gt;&gt;: 添加数据之后的alist: [1, 10, 25, &#x27;apple&#x27;, &#x27;你好&#x27;, True, 13.88, &#x27;A&#x27;]</span></span><br><span class="line"></span><br><span class="line">alist.extend([<span class="number">110</span>, <span class="number">119</span>, <span class="number">911</span>])</span><br><span class="line">print(<span class="string">&quot;扩展数据之后的alist:&quot;</span>, alist)</span><br><span class="line"><span class="comment">#&gt;&gt;: 扩展数据之后的alist: [1, 10, 25, &#x27;apple&#x27;, &#x27;你好&#x27;, True, 13.88, &#x27;A&#x27;, 110, 119, 911]</span></span><br><span class="line"></span><br><span class="line">alist.insert(<span class="number">3</span>, <span class="string">&#x27;我是插入的数据Cc&#x27;</span>)</span><br><span class="line">print(<span class="string">&quot;插入数据之后的alist:&quot;</span>, alist)</span><br><span class="line"><span class="comment">#&gt;&gt;: [1, 10, 25, &#x27;我是插入的数据Cc&#x27;, &#x27;apple&#x27;, &#x27;你好&#x27;, True, 13.88, &#x27;A&#x27;, 110, 119, 911]</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">blist = <span class="built_in">list</span>(<span class="built_in">range</span>(<span class="number">6</span>, <span class="number">18</span>))</span><br><span class="line">print(<span class="string">&quot;原始列表：&quot;</span>,blist)</span><br><span class="line"><span class="comment">#del blist[3:5]#批量删除</span></span><br><span class="line"><span class="comment">#blist,remove(指定元素) #按照元素删除</span></span><br><span class="line">print(<span class="string">&quot;被删除的项：&quot;</span>,blist.pop(<span class="number">1</span>))<span class="comment">#按照索引删除</span></span><br><span class="line">print(<span class="string">&quot;现在的列表：&quot;</span>,blist)</span><br><span class="line"></span><br><span class="line"><span class="comment">#&gt;&gt;:</span></span><br><span class="line">原始列表： [<span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">10</span>, <span class="number">11</span>, <span class="number">12</span>, <span class="number">13</span>, <span class="number">14</span>, <span class="number">15</span>, <span class="number">16</span>, <span class="number">17</span>]</span><br><span class="line">被删除的项： <span class="number">7</span></span><br><span class="line">现在的列表： [<span class="number">6</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">10</span>, <span class="number">11</span>, <span class="number">12</span>, <span class="number">13</span>, <span class="number">14</span>, <span class="number">15</span>, <span class="number">16</span>, <span class="number">17</span>]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="3-元组"><a href="#3-元组" class="headerlink" title="3. 元组 ()"></a>3. 元组 ()</h3><ol>
<li><p>不可变的序列</p>
</li>
<li><p>仅有一个元素时，需要加上逗号，否则会被当作整型处理</p>
</li>
<li>元素可以是任何类型。元素为列表，这些列表的元素可以被修改</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># tuple</span></span><br><span class="line"></span><br><span class="line">tupleB = (<span class="string">&#x27;apple&#x27;</span>, <span class="number">15</span>, <span class="number">23.12</span>, [<span class="number">5</span>,<span class="number">15</span>,<span class="number">20</span>])</span><br><span class="line">print(<span class="string">&quot;List被修改前：&quot;</span>, tupleB[<span class="number">3</span>])</span><br><span class="line">tupleB[<span class="number">3</span>][<span class="number">0</span>] = <span class="string">&#x27;Cake&#x27;</span></span><br><span class="line">print(<span class="string">&quot;List被修改后：&quot;</span>, tupleB[<span class="number">3</span>])</span><br><span class="line"><span class="comment">#&gt;&gt;: List被修改前： [5, 15, 20]</span></span><br><span class="line"><span class="comment">#&gt;&gt;: List被修改后： [&#x27;Cake&#x27;, 15, 20]</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="4-字典"><a href="#4-字典" class="headerlink" title="4. 字典 {}"></a>4. 字典 {}</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#dict</span></span><br><span class="line"><span class="comment">#增删改查</span></span><br><span class="line"><span class="comment">#特点：不是序列类型，没有下标的概念。可以增删改查</span></span><br><span class="line"><span class="comment">#&#123;key:value&#125;</span></span><br><span class="line"><span class="comment">#key是不可变类型，元组、字符串</span></span><br><span class="line"><span class="comment">#如果key重复，后者会对前者形成覆盖</span></span><br><span class="line"></span><br><span class="line">dictA = &#123;<span class="string">&#x27;Name&#x27;</span>: <span class="string">&#x27;Little&#x27;</span>, <span class="string">&#x27;Age&#x27;</span>: <span class="number">23</span>&#125;</span><br><span class="line">print(<span class="string">&quot;原始字典：&quot;</span>, dictA)</span><br><span class="line">dictA[<span class="string">&#x27;Salary&#x27;</span>] = [<span class="number">0</span>] <span class="comment">#增加</span></span><br><span class="line">print(<span class="string">&quot;修改后的字典：&quot;</span>, dictA)</span><br><span class="line">print(<span class="string">&quot;数据长度：&quot;</span>, <span class="built_in">len</span>(dictA))</span><br><span class="line"></span><br><span class="line"><span class="comment">#&gt;&gt;: 原始字典： &#123;&#x27;Name&#x27;: &#x27;Little&#x27;, &#x27;Age&#x27;: 23&#125;</span></span><br><span class="line"><span class="comment">#&gt;&gt;: 修改后的字典： &#123;&#x27;Name&#x27;: &#x27;Little&#x27;, &#x27;Age&#x27;: 23, &#x27;Salary&#x27;: [0]&#125;</span></span><br><span class="line"><span class="comment">#&gt;&gt;: 数据长度： 3</span></span><br><span class="line">print(dictA[<span class="string">&#x27;Name&#x27;</span>]) <span class="comment">#通过key获得对应的value</span></span><br><span class="line"><span class="comment">#&gt;&gt;: Little</span></span><br><span class="line">print(dictA.keys())</span><br><span class="line">print(dictA.values())</span><br><span class="line">print(dictA.items())</span><br><span class="line"></span><br><span class="line"><span class="comment">#&gt;&gt;: dict_keys([&#x27;Name&#x27;, &#x27;Age&#x27;, &#x27;Salary&#x27;])</span></span><br><span class="line"><span class="comment">#&gt;&gt;: dict_values([&#x27;Little&#x27;, 23, [0]])</span></span><br><span class="line"><span class="comment">#&gt;&gt;: dict_items([(&#x27;Name&#x27;, &#x27;Little&#x27;), (&#x27;Age&#x27;, 23), (&#x27;Salary&#x27;, [0])])</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> item <span class="keyword">in</span> dictA.items():</span><br><span class="line">    print(item, end=<span class="string">&#x27; &#x27;</span>)</span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"><span class="comment">#&gt;&gt;: (&#x27;Name&#x27;, &#x27;Little&#x27;) (&#x27;Age&#x27;, 23) (&#x27;Salary&#x27;, [0])   tuple格式</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> key, value <span class="keyword">in</span> dictA.items():</span><br><span class="line">    print(key,value, end = <span class="string">&#x27; &#x27;</span>)</span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#dictA.update()</span></span><br><span class="line"><span class="comment">#del dictA[key]</span></span><br><span class="line"><span class="comment">#dictA.pop(key)</span></span><br><span class="line"><span class="comment">#sorted(dictA.items(), key = lambda d:d[0]) #按照key排序</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#公有方法</span></span><br><span class="line"><span class="comment">#针对字符串、列表、元组：+ 合并， * 复制</span></span><br><span class="line"><span class="comment">#针对字符串、列表、元组、字典：in</span></span><br><span class="line"></span><br><span class="line">strA = <span class="string">&#x27;人生苦短&#x27;</span></span><br><span class="line">strB = <span class="string">&#x27;我学Python&#x27;</span></span><br><span class="line"></span><br><span class="line">print(<span class="string">&quot;str +:&quot;</span>, strA+strB)</span><br><span class="line"><span class="comment">#&gt;&gt;: str +: 人生苦短我学Python</span></span><br><span class="line"></span><br><span class="line">listA = [<span class="number">110</span>, <span class="number">911</span>]</span><br><span class="line">print(<span class="string">&quot;List复制：&quot;</span>, listA*<span class="number">3</span>)</span><br><span class="line"><span class="comment">#&gt;&gt;: List复制： [110, 911, 110, 911, 110, 911]</span></span><br><span class="line"></span><br><span class="line">print(<span class="number">110</span> <span class="keyword">in</span> listA)</span><br><span class="line"><span class="comment">#&gt;&gt;: True</span></span><br><span class="line"></span><br><span class="line">dictB = &#123;<span class="string">&#x27;Age&#x27;</span>: <span class="number">10</span>&#125;</span><br><span class="line">print(<span class="string">&#x27;Name&#x27;</span> <span class="keyword">in</span> dictB)</span><br><span class="line"><span class="comment">#&gt;&gt;: False</span></span><br></pre></td></tr></table></figure>
<h2 id="4-Python-函数"><a href="#4-Python-函数" class="headerlink" title="4. Python 函数"></a>4. Python 函数</h2><p>函数的基础<br>函数的参数<br>函数的返回值<br>函数的嵌套使用</p>
<h3 id="1-函数的基本概况"><a href="#1-函数的基本概况" class="headerlink" title="1. 函数的基本概况"></a>1. 函数的基本概况</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#函数定义</span></span><br><span class="line"><span class="comment">#函数的说明文档</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">printInfo</span>():</span></span><br><span class="line">    <span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">    打印个人信息</span></span><br><span class="line"><span class="string">    &#x27;&#x27;&#x27;</span></span><br><span class="line">    print(<span class="string">&quot;名字是%s&quot;</span> %<span class="string">&#x27;Littleclam&#x27;</span>)</span><br><span class="line">    print(<span class="string">&quot;年龄是%d&quot;</span> %<span class="number">23</span>)</span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#函数调用</span></span><br><span class="line">printInfo()</span><br><span class="line"><span class="comment">#&gt;&gt;: 名字是Littleclam</span></span><br><span class="line"><span class="comment">#&gt;&gt;: 年龄是23</span></span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#升级版，参数的引入</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">printInfo_plus</span>(<span class="params">name, height, weight, hobby, pro</span>):</span></span><br><span class="line">    print(<span class="string">&quot;名字是%s&quot;</span> %name)</span><br><span class="line">    print(<span class="string">&quot;身高是%d&quot;</span> %height)</span><br><span class="line">    print(<span class="string">&quot;体重是%d&quot;</span> %weight)</span><br><span class="line">    print(<span class="string">&quot;爱好是&#123;&#125;&quot;</span>.<span class="built_in">format</span>(hobby))</span><br><span class="line">    print(<span class="string">&quot;专业是&#123;&#125;&quot;</span>.<span class="built_in">format</span>(pro))</span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line">printInfo_plus(<span class="string">&#x27;Little&#x27;</span>, <span class="number">15</span>, <span class="number">20</span>, <span class="string">&#x27;睡觉&#x27;</span>, <span class="string">&#x27;Stats&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#&gt;&gt;: 名字是Little</span></span><br><span class="line"><span class="comment">#&gt;&gt;: 身高是15</span></span><br><span class="line"><span class="comment">#&gt;&gt;: 体重是20</span></span><br><span class="line"><span class="comment">#&gt;&gt;: 爱好是睡觉</span></span><br><span class="line"><span class="comment">#&gt;&gt;: 专业是Stats</span></span><br></pre></td></tr></table></figure>
<h3 id="2-函数的参数说明"><a href="#2-函数的参数说明" class="headerlink" title="2. 函数的参数说明"></a>2. 函数的参数说明</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#参数分类：必选参数、缺省（default）参数、可选参数、关键字参数</span></span><br><span class="line"><span class="comment">#1.必选参数</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">getsum</span>(<span class="params">a, b</span>):</span> <span class="comment">#形式参数，定义时刻不分配内存地址</span></span><br><span class="line">    result = a + b</span><br><span class="line">    print(<span class="string">&quot;Sum is:&#123;&#125;&quot;</span>.<span class="built_in">format</span>(result))</span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line">getsum(<span class="number">1</span>,<span class="number">15</span>) <span class="comment">#实际参数</span></span><br><span class="line"><span class="comment">#&gt;&gt;: Sum is:16</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#2.缺省参数</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">getsum1</span>(<span class="params">a=<span class="number">15</span>, b=<span class="number">30</span></span>):</span> </span><br><span class="line">    result = a + b</span><br><span class="line">    print(<span class="string">&quot;Defaulst sum is:&#123;&#125;&quot;</span>.<span class="built_in">format</span>(result))</span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line">getsum1()</span><br><span class="line">getsum1(<span class="number">0</span>)</span><br><span class="line">getsum1(<span class="number">1</span>,<span class="number">1</span>)</span><br><span class="line">    </span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#3.可变参数 当参数的个数不确定</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">getComputer</span>(<span class="params">*args</span>):</span> <span class="comment">#元组类型</span></span><br><span class="line">    result = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> item <span class="keyword">in</span> args:</span><br><span class="line">        result += item</span><br><span class="line">    print(<span class="string">&quot;Sum :&#123;&#125;&quot;</span>.<span class="built_in">format</span>(result))</span><br><span class="line"></span><br><span class="line">getComputer(<span class="number">5</span>,<span class="number">1</span>, <span class="number">23</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#关键字可变参数</span></span><br><span class="line"><span class="comment">#参数关键字是一个字典类型，key是一个字符串</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">keyFunc</span>(<span class="params">**kwargs</span>):</span> <span class="comment">#字典类型</span></span><br><span class="line">    print(kwargs)</span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line">dictA = &#123;<span class="string">&#x27;Name&#x27;</span>:<span class="string">&#x27;Little&#x27;</span>, <span class="string">&quot;Age&quot;</span>:<span class="number">15</span>&#125;</span><br><span class="line">keyFunc(**dictA)</span><br><span class="line"><span class="comment">#&gt;&gt;: &#123;&#x27;Name&#x27;: &#x27;Little&#x27;, &#x27;Age&#x27;: 15&#125;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">complexFunc</span>(<span class="params">*args, **kwargs</span>):</span></span><br><span class="line">    print(args)</span><br><span class="line">    print(kwargs)</span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line">complexFunc(name = <span class="string">&#x27;Little&#x27;</span>)</span><br><span class="line"><span class="comment">#&gt;&gt;: ()</span></span><br><span class="line"><span class="comment">#&gt;&gt;: &#123;&#x27;name&#x27;: &#x27;Little&#x27;&#125;</span></span><br><span class="line">complexFunc(<span class="number">15</span>)</span><br><span class="line"><span class="comment">#&gt;&gt;: (15,)</span></span><br><span class="line"><span class="comment">#&gt;&gt;: &#123;&#125;</span></span><br><span class="line">complexFunc(<span class="number">15</span>, age = <span class="number">15</span>)</span><br><span class="line"><span class="comment">#&gt;&gt;: (15,)</span></span><br><span class="line"><span class="comment">#&gt;&gt;: &#123;&#x27;age&#x27;: 15&#125;</span></span><br></pre></td></tr></table></figure>
<h3 id="3-函数的返回值"><a href="#3-函数的返回值" class="headerlink" title="3. 函数的返回值"></a>3. 函数的返回值</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#函数返回值</span></span><br><span class="line"><span class="comment">#概念：函数执行完以后会返回一个对象，如果在函数内有return, 则返回实际的值，否则返回None</span></span><br><span class="line"><span class="comment">#类型：可以返回任意类型，取决于return后面的类型</span></span><br><span class="line"><span class="comment">#在一个函数内可以有多个return, 但是只会返回一个return</span></span><br><span class="line"><span class="comment">#如果在一个函数体内，执行了return, 意味着函数就执行结束了，return后面的代码不会执行</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">getSum</span>(<span class="params">a,b</span>):</span></span><br><span class="line">    result = a + b</span><br><span class="line">    <span class="keyword">return</span> result</span><br><span class="line">    print(<span class="string">&#x27;hello&#x27;</span>)<span class="comment">#没有执行</span></span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line">FinalResult = getSum(<span class="number">1</span>,<span class="number">2</span>)</span><br><span class="line">print(FinalResult)</span><br><span class="line"><span class="comment">#&gt;&gt;: 3</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="4-函数的嵌套"><a href="#4-函数的嵌套" class="headerlink" title="4. 函数的嵌套"></a>4. 函数的嵌套</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#函数嵌套</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">fun1</span>():</span></span><br><span class="line">    print(<span class="string">&quot;--------fun1 start--------&quot;</span>)</span><br><span class="line">    print(<span class="string">&quot;--------fun1 process--------&quot;</span>)</span><br><span class="line">    print(<span class="string">&quot;--------fun1 end--------&quot;</span>)</span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">fun2</span>():</span></span><br><span class="line">    print(<span class="string">&quot;--------fun2 start--------&quot;</span>)</span><br><span class="line">    print(<span class="string">&quot;--------fun2 process--------&quot;</span>)</span><br><span class="line">    fun1()</span><br><span class="line">    print(<span class="string">&quot;--------fun2 end--------&quot;</span>)</span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line">fun2()<span class="comment">#调用fun2()</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#&gt;&gt;: --------fun2 start--------</span></span><br><span class="line"><span class="comment">#&gt;&gt;: --------fun2 process--------</span></span><br><span class="line"><span class="comment">#&gt;&gt;: --------fun1 start--------</span></span><br><span class="line"><span class="comment">#&gt;&gt;: --------fun1 process--------</span></span><br><span class="line"><span class="comment">#&gt;&gt;: --------fun1 end--------</span></span><br><span class="line"><span class="comment">#&gt;&gt;: --------fun2 end--------</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">dict_test = &#123;<span class="string">&quot;Age&quot;</span>:<span class="number">15</span>&#125;</span><br><span class="line">print(<span class="built_in">type</span>(dict_test[<span class="string">&#x27;Age&#x27;</span>]))</span><br><span class="line"><span class="comment">#&gt;&gt;: &lt;class &#x27;int&#x27;&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#作业1：写函数，接受n个数字，求和</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">homework1</span>(<span class="params">*args</span>):</span></span><br><span class="line">    result = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> item <span class="keyword">in</span> args:</span><br><span class="line">        result += item</span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line">    <span class="keyword">return</span> result</span><br><span class="line"></span><br><span class="line">homework1(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>)</span><br></pre></td></tr></table></figure>
<p>结果：</p>
<pre><code>6
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#作业2：找出传入列表或者元组的奇数位对应的元素，返回一个新列表</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">hw2</span>(<span class="params">tupleA = (<span class="params"></span>), listA = []</span>):</span></span><br><span class="line">    newlist = []</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>, <span class="built_in">len</span>(tupleA)):</span><br><span class="line">        <span class="keyword">if</span> i%<span class="number">2</span> == <span class="number">1</span>:</span><br><span class="line">            newlist.append(tupleA[i])</span><br><span class="line">            <span class="keyword">pass</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">continue</span></span><br><span class="line">            <span class="keyword">pass</span></span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>, <span class="built_in">len</span>(listA)):</span><br><span class="line">        <span class="keyword">if</span> i%<span class="number">2</span> == <span class="number">1</span>:</span><br><span class="line">            newlist.append(listA[i])</span><br><span class="line">            <span class="keyword">pass</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">continue</span></span><br><span class="line">            <span class="keyword">pass</span></span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line">    <span class="keyword">return</span> newlist</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">print(hw2((<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>),[<span class="string">&#x27;a&#x27;</span>,<span class="string">&#x27;bb&#x27;</span>,<span class="number">1</span>,<span class="number">33</span>]))</span><br><span class="line">print(hw2([<span class="number">1</span>,<span class="number">2</span>,<span class="number">44</span>]))</span><br><span class="line">print(hw2())</span><br><span class="line"></span><br><span class="line">&gt;&gt;:</span><br><span class="line">[<span class="number">2</span>, <span class="number">4</span>, <span class="string">&#x27;bb&#x27;</span>, <span class="number">33</span>]</span><br><span class="line">[<span class="number">2</span>]</span><br><span class="line">[]</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#作业3：检查传入字典的每一个value的长度，如果大于2，仅保留前2个长度内容，并将内容返回给调用者。PS：字典中的value只能是字符串或者列表</span></span><br><span class="line"></span><br><span class="line">dict_hw3 = &#123;<span class="string">&#x27;Name&#x27;</span>: <span class="string">&#x27;Little&#x27;</span>, <span class="string">&#x27;Age&#x27;</span>: [<span class="number">23</span>], <span class="string">&#x27;Salary&#x27;</span>: [<span class="number">98</span>, <span class="number">91</span>, <span class="number">96</span>]&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">hw3</span>(<span class="params">dictA = &#123;&#125;</span>):</span></span><br><span class="line">    <span class="keyword">for</span> key, value <span class="keyword">in</span> dict_hw3.items():</span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">len</span>(value) &lt;= <span class="number">2</span>:</span><br><span class="line">            <span class="keyword">continue</span></span><br><span class="line">            <span class="keyword">pass</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            value = value[<span class="number">0</span>:<span class="number">2</span>]</span><br><span class="line">            dictA.update(&#123;key:value&#125;)</span><br><span class="line">            <span class="keyword">pass</span></span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line">    <span class="keyword">return</span> dictA</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">hw3(dict_hw3)</span><br><span class="line"></span><br><span class="line"><span class="comment"># type(dict_hw3[&#x27;Age&#x27;]) #int</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># dict_hw3.update(&#123;&#x27;Age&#x27;:15&#125;)</span></span><br><span class="line"><span class="comment"># dict_hw3 #&#123;&#x27;Name&#x27;: &#x27;Little&#x27;, &#x27;Age&#x27;: 15, &#x27;Salary&#x27;: [98, 91, 96]&#125;</span></span><br></pre></td></tr></table></figure>
<p>结果：</p>
<pre><code>&#123;&#39;Name&#39;: &#39;Li&#39;, &#39;Age&#39;: [23], &#39;Salary&#39;: [98, 91]&#125;
</code></pre><h3 id="5-函数的基本类型"><a href="#5-函数的基本类型" class="headerlink" title="5. 函数的基本类型"></a>5. 函数的基本类型</h3><p>函数的4种基本类型<br>1.无参数，无返回值<br>2.无参数，有返回值<br>3.有参数，无返回值<br>4.有参数，有返回值</p>
<h3 id="6-局部变量和全局变量"><a href="#6-局部变量和全局变量" class="headerlink" title="6. 局部变量和全局变量"></a>6. 局部变量和全局变量</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#局部变量</span></span><br><span class="line"><span class="comment">#不同的函数可以定义相同的局部变量，因为互不干扰</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">printInfo</span>():</span></span><br><span class="line">    name = <span class="string">&#x27;Little&#x27;</span><span class="comment">#局部变量</span></span><br><span class="line">    print(<span class="string">&quot;&#123;&#125;&quot;</span>.<span class="built_in">format</span>(name))</span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">TestMethod</span>():</span></span><br><span class="line">    print(name)</span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"><span class="comment"># printInfo()</span></span><br><span class="line"><span class="comment">#&gt;&gt;: Little</span></span><br><span class="line"><span class="comment"># TestMethod()</span></span><br><span class="line"><span class="comment">#&gt;&gt;: name &#x27;name&#x27; is not defined</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#全局变量【作用域大】</span></span><br><span class="line"><span class="comment">#如果全局变量和局部变量命名相同时，【局部变量】优先级高于【全局变量】</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#全局变量</span></span><br><span class="line">name = <span class="string">&#x27;王老师&#x27;</span></span><br><span class="line"><span class="comment">#修改全局变量</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">changeGlobal</span>():</span></span><br><span class="line">    <span class="keyword">global</span> name</span><br><span class="line">    name = <span class="string">&#x27;王铁铁&#x27;</span></span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line">print(name)</span><br><span class="line">&gt;&gt;: 王铁铁</span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="7-函数参数引用传值"><a href="#7-函数参数引用传值" class="headerlink" title="7. 函数参数引用传值"></a>7. 函数参数引用传值</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">a = <span class="number">1</span></span><br><span class="line">print(<span class="string">&quot;1的地址&#123;&#125;, a的地址&#123;&#125;&quot;</span>.<span class="built_in">format</span>(<span class="built_in">id</span>(<span class="number">1</span>), <span class="built_in">id</span>(a)))</span><br><span class="line"></span><br><span class="line"><span class="comment">#赋值，实际上是传递对象的地址</span></span><br><span class="line"><span class="comment">#&gt;&gt;: 1的地址140732806346528, a的地址140732806346528</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func</span>(<span class="params">x</span>):</span></span><br><span class="line">    x=<span class="number">2</span></span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">id</span>(x)</span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line">print(<span class="string">&quot;Address of a:&quot;</span>, <span class="built_in">id</span>(a))</span><br><span class="line">print(<span class="string">&quot;Address of x:&quot;</span>, func(a))</span><br><span class="line"><span class="comment"># Address of a: 140732806346528</span></span><br><span class="line"><span class="comment"># Address of x: 140732806346560</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#可变类型</span></span><br><span class="line"><span class="comment">#地址从来没有变过。传递的是对象，不是值。</span></span><br><span class="line">li = []</span><br><span class="line">print(<span class="built_in">id</span>(li))</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">testRenc</span>(<span class="params">paras</span>):</span></span><br><span class="line">    li.append([<span class="number">1</span>,<span class="number">2</span>,<span class="number">25</span>])</span><br><span class="line">    print(<span class="built_in">id</span>(paras))</span><br><span class="line"></span><br><span class="line">testRenc(li)</span><br><span class="line">print(<span class="built_in">id</span>(li))</span><br><span class="line">print(li)</span><br><span class="line"><span class="comment">#&gt;&gt;: 1587677181120</span></span><br><span class="line"><span class="comment">#&gt;&gt;: 1587677181120</span></span><br><span class="line"><span class="comment">#&gt;&gt;: 1587677181120</span></span><br><span class="line"><span class="comment">#&gt;&gt;: [[1, 2, 25]]</span></span><br></pre></td></tr></table></figure>
<h3 id="8-匿名函数以及递归函数"><a href="#8-匿名函数以及递归函数" class="headerlink" title="8. 匿名函数以及递归函数"></a>8. 匿名函数以及递归函数</h3><ol>
<li>匿名函数是lambda</li>
<li>lambda para1, para2: 表达式</li>
<li>没有名字的函数，冒号后面表达式有且只有一个，是表达式，不是语句</li>
<li>匿名函数自带return, 而这个return的结果就是表达式计算的结果</li>
</ol>
<p><strong>缺点</strong>：</p>
<ol>
<li>lambda只能是一个单个表达式，其设计理念就是为了满足简单函数的场景，只能封装优先的逻辑</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">M = <span class="keyword">lambda</span> x,y : x + y</span><br><span class="line">print(<span class="string">&quot;匿名函数的使用：&#123;&#125;&quot;</span>.<span class="built_in">format</span>(M(<span class="number">2</span>,<span class="number">3</span>)))</span><br><span class="line"><span class="comment"># 匿名函数的使用：5</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># lambda a if b else c 和C语言中:?一样</span></span><br><span class="line"></span><br><span class="line">Age = <span class="number">15</span></span><br><span class="line">print(<span class="string">&quot;可以参军&quot;</span> <span class="keyword">if</span> Age&gt;<span class="number">18</span> <span class="keyword">else</span> <span class="string">&quot;去正邦集团养猪&quot;</span>)</span><br><span class="line"><span class="comment"># 去正邦集团养猪</span></span><br></pre></td></tr></table></figure>
<p>递归函数：</p>
<p>不断调用自身</p>
<ol>
<li>必须满足一个结束的条件</li>
<li>否则会一直循环至最底层，然后报错</li>
<li>容易导致内存空间溢出</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#递归函数</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">iterateFunc</span>(<span class="params">n</span>):</span></span><br><span class="line">    <span class="keyword">if</span> n == <span class="number">1</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> n*iterateFunc(n<span class="number">-1</span>)</span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line">iterateFunc(<span class="number">5</span>)</span><br><span class="line"><span class="comment"># 120</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 模拟实现树形结构的遍历</span></span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">findFile</span>(<span class="params">file_path</span>):</span></span><br><span class="line">    listRs = os.listdir(file_path) <span class="comment">#得到该路径下所有文件夹</span></span><br><span class="line">    <span class="keyword">for</span> fileItem <span class="keyword">in</span> listRs:</span><br><span class="line">        full_path = os.path.join(file_path,fileItem) <span class="comment">#获取完整的文件路径</span></span><br><span class="line">        <span class="keyword">if</span> os.path.isdir(full_path): <span class="comment">#判断是否是文件夹</span></span><br><span class="line">            findFile(full_path) <span class="comment">#如果是一个文件夹，再次去递归</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            print(fileItem)</span><br><span class="line">            <span class="keyword">pass</span></span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line">findFile(<span class="string">&#x27;D:\Git_repo&#x27;</span>)</span><br></pre></td></tr></table></figure>
<h2 id="5-Python内置函数"><a href="#5-Python内置函数" class="headerlink" title="5. Python内置函数"></a>5. Python内置函数</h2><h3 id="1-内置数学函数"><a href="#1-内置数学函数" class="headerlink" title="1. 内置数学函数"></a>1. 内置数学函数</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#常用内置数学函数</span></span><br><span class="line">print(<span class="string">&quot;绝对值函数：&quot;</span>, <span class="built_in">abs</span>(<span class="number">-5</span>))</span><br><span class="line"><span class="comment"># 绝对值函数： 5</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#不是完全按照四舍五入</span></span><br><span class="line">print(<span class="string">&quot;四舍五入取近似值：&quot;</span>, <span class="built_in">round</span>(<span class="number">4.66</span>, <span class="number">1</span>))</span><br><span class="line"><span class="comment"># 四舍五入取近似值： 4.7</span></span><br><span class="line"></span><br><span class="line">print(<span class="string">&quot;次方值：&quot;</span>, <span class="built_in">pow</span>(<span class="number">3</span>, <span class="number">3</span>)) <span class="comment">#求次方</span></span><br><span class="line"><span class="comment"># 次方值： 27</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#divmod(), max(), min(), sum()</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># eval()执行函数表达式</span></span><br><span class="line">a,b,c = <span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span></span><br><span class="line">print(<span class="string">&quot;动态执行函数=&#123;&#125;&quot;</span>.<span class="built_in">format</span>(<span class="built_in">eval</span>(<span class="string">&#x27;a+b-c*20&#x27;</span>)))</span><br><span class="line"><span class="comment"># 动态执行函数=-57</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="2-类型转换"><a href="#2-类型转换" class="headerlink" title="2. 类型转换"></a>2. 类型转换</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#类型转换</span></span><br><span class="line">print(<span class="string">&quot;十进制55转成2进制:&#123;&#125;&quot;</span>.<span class="built_in">format</span>(<span class="built_in">bin</span>(<span class="number">55</span>)))</span><br><span class="line"><span class="comment"># 十进制55转成2进制:0b110111</span></span><br><span class="line"><span class="comment">#hex() 转换成16进制</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#list() 元组转成列表</span></span><br><span class="line"><span class="comment">#bytes(), dict(), tuple()</span></span><br><span class="line"><span class="comment">#chr()</span></span><br></pre></td></tr></table></figure>
<h3 id="3-序列操作函数"><a href="#3-序列操作函数" class="headerlink" title="3. 序列操作函数"></a>3. 序列操作函数</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># zip() 打包函数</span></span><br><span class="line"></span><br><span class="line">s1 = [<span class="string">&#x27;apple&#x27;</span>, <span class="string">&#x27;juice&#x27;</span>, <span class="string">&#x27;pen&#x27;</span>]</span><br><span class="line">s2 = [<span class="string">&#x27;Wang&#x27;</span>, <span class="string">&#x27;Han&#x27;</span>, <span class="string">&#x27;Mao&#x27;</span>, <span class="string">&#x27;Lisalisa&#x27;</span>]</span><br><span class="line"></span><br><span class="line">print(<span class="built_in">list</span>(<span class="built_in">zip</span>(s1)))</span><br><span class="line"><span class="comment"># [(&#x27;apple&#x27;,), (&#x27;juice&#x27;,), (&#x27;pen&#x27;,)]</span></span><br><span class="line">print(<span class="built_in">list</span>(<span class="built_in">zip</span>(s1,s2)))</span><br><span class="line"><span class="comment"># [(&#x27;apple&#x27;, &#x27;Wang&#x27;), (&#x27;juice&#x27;, &#x27;Han&#x27;), (&#x27;pen&#x27;, &#x27;Mao&#x27;)] 以长度短的对象为根据</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">printBookInfo</span>():</span></span><br><span class="line">    books = [] <span class="comment">#存储所有图书信息</span></span><br><span class="line">    bookid = <span class="built_in">input</span>(<span class="string">&quot;请输入编号：每个项以空格分隔&quot;</span>) <span class="comment">#str</span></span><br><span class="line">    bookName = <span class="built_in">input</span>(<span class="string">&quot;请输入书名：每个项以空格分隔&quot;</span>)</span><br><span class="line">    bookPos = <span class="built_in">input</span>(<span class="string">&quot;请输入位置：每个项以空格分隔&quot;</span>)</span><br><span class="line">    </span><br><span class="line">    idList = bookid.split(<span class="string">&#x27; &#x27;</span>)</span><br><span class="line">    nameList = bookName.split(<span class="string">&#x27; &#x27;</span>)</span><br><span class="line">    posList = bookPos.split(<span class="string">&#x27; &#x27;</span>)</span><br><span class="line">    </span><br><span class="line">    bookInfo = <span class="built_in">zip</span>(idList, nameList, posList) <span class="comment">#打包</span></span><br><span class="line">    <span class="keyword">for</span> bookItem <span class="keyword">in</span> bookInfo:</span><br><span class="line">        dictInfo = &#123;<span class="string">&#x27;编号&#x27;</span>: bookItem[<span class="number">0</span>], <span class="string">&#x27;书名&#x27;</span>:bookItem[<span class="number">1</span>], <span class="string">&#x27;位置&#x27;</span>:bookItem[<span class="number">2</span>]&#125;</span><br><span class="line">        books.append(dictInfo)</span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line">    <span class="keyword">for</span> item <span class="keyword">in</span> books:</span><br><span class="line">        print(item)</span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line">printBookInfo()</span><br><span class="line"><span class="comment"># 请输入编号：每个项以空格分隔1 2 3</span></span><br><span class="line"><span class="comment"># 请输入书名：每个项以空格分隔python c cpp</span></span><br><span class="line"><span class="comment"># 请输入位置：每个项以空格分隔A1 B1 D1</span></span><br><span class="line"><span class="comment"># &#123;&#x27;编号&#x27;: &#x27;1&#x27;, &#x27;书名&#x27;: &#x27;python&#x27;, &#x27;位置&#x27;: &#x27;A1&#x27;&#125;</span></span><br><span class="line"><span class="comment"># &#123;&#x27;编号&#x27;: &#x27;2&#x27;, &#x27;书名&#x27;: &#x27;c&#x27;, &#x27;位置&#x27;: &#x27;B1&#x27;&#125;</span></span><br></pre></td></tr></table></figure>
<p>enumerate() 函数的用法</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># enumerate()</span></span><br><span class="line"><span class="comment">#将列表、元组、字符串组合为一个索引序列，同时列出数据和下标</span></span><br><span class="line">list1 = [<span class="string">&#x27;apple&#x27;</span>, <span class="string">&#x27;litte&#x27;</span>, <span class="string">&#x27;c&#x27;</span>]</span><br><span class="line"><span class="keyword">for</span> item <span class="keyword">in</span> <span class="built_in">enumerate</span>(list1):</span><br><span class="line">    print(item)</span><br><span class="line"></span><br><span class="line"><span class="comment"># (0, &#x27;apple&#x27;)</span></span><br><span class="line"><span class="comment"># (1, &#x27;litte&#x27;)</span></span><br><span class="line"><span class="comment"># (2, &#x27;c&#x27;)</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> index, value <span class="keyword">in</span> <span class="built_in">enumerate</span>(list1):</span><br><span class="line">    print(<span class="string">&quot;index:&#123;&#125;, value:&#123;&#125;&quot;</span>.<span class="built_in">format</span>(index, value))</span><br><span class="line"></span><br><span class="line"><span class="comment"># index:0, value:apple</span></span><br><span class="line"><span class="comment"># index:1, value:litte</span></span><br><span class="line"><span class="comment"># index:2, value:c</span></span><br></pre></td></tr></table></figure>
<h3 id="4-set"><a href="#4-set" class="headerlink" title="4. set()"></a>4. set()</h3><p><strong>实际上你在开发环境中点击tab键，可以看到自带的函数/后缀</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#集合操作函数</span></span><br><span class="line">set1 = &#123;<span class="number">1</span>,<span class="number">15</span>,<span class="number">55</span>,<span class="number">55</span>,<span class="number">6</span>,<span class="string">&#x27;apple&#x27;</span>&#125;</span><br><span class="line">print(<span class="string">&quot;集合的属性：&#123;&#125;, 集合的值：&#123;&#125;&quot;</span>.<span class="built_in">format</span>(<span class="built_in">type</span>(set1), set1))</span><br><span class="line"><span class="comment"># 集合的属性：&lt;class &#x27;set&#x27;&gt;, 集合的值：&#123;1, 6, 15, 55, &#x27;apple&#x27;&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#添加操作</span></span><br><span class="line">set1.add(<span class="string">&#x27;Little&#x27;</span>)</span><br><span class="line">print(set1)</span><br><span class="line"><span class="comment"># &#123;1, &#x27;Little&#x27;, 6, 15, 55, &#x27;apple&#x27;&#125;</span></span><br><span class="line"><span class="comment"># set1.clear()/difference(set2)/intersection(set2)/pop()/discard(指定元素)/update() </span></span><br><span class="line"><span class="comment"># 等等许多操作</span></span><br><span class="line"></span><br><span class="line">set1.clear()</span><br><span class="line">print(set1)</span><br><span class="line"><span class="comment"># set()</span></span><br></pre></td></tr></table></figure>
<h3 id="5-作业"><a href="#5-作业" class="headerlink" title="5. 作业"></a>5. 作业</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sumRange</span>(<span class="params">m, n</span>):</span></span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">sum</span>(<span class="built_in">range</span>(m, n+<span class="number">1</span>))</span><br><span class="line"></span><br><span class="line">sumRange(<span class="number">30</span>, <span class="number">45</span>)</span><br><span class="line"><span class="comment"># 600</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">Monk</span>():</span></span><br><span class="line">    <span class="keyword">for</span> bigMonk <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>, <span class="number">101</span>):</span><br><span class="line">        smallMonk = <span class="number">100</span> - bigMonk</span><br><span class="line">        <span class="keyword">if</span> smallMonk/<span class="number">3</span> + bigMonk*<span class="number">3</span> == <span class="number">100</span>:</span><br><span class="line">            print(<span class="string">&quot;大和尚人数：&#123;&#125;, 小和尚人数：&#123;&#125;&quot;</span>.<span class="built_in">format</span>(bigMonk, smallMonk))</span><br><span class="line">            <span class="keyword">pass</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">continue</span></span><br><span class="line">Monk()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 大和尚人数：25, 小和尚人数：75</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#指定一个列表，列表里存在一个数字，出现且仅出现一次，找出这个独一无二的数字。</span></span><br><span class="line"><span class="comment">#set(alist) 所有的元素仅出现一次， blist = alist - set(alist)：将唯一元素去除 set(alist) - blist = 唯一元素</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">findNum</span>(<span class="params">alist</span>):</span></span><br><span class="line">    all_one = <span class="built_in">set</span>(alist)</span><br><span class="line">    <span class="keyword">for</span> item <span class="keyword">in</span> all_one:</span><br><span class="line">        alist.remove(item)</span><br><span class="line">    blist = <span class="built_in">set</span>(alist)</span><br><span class="line">    </span><br><span class="line">    print(<span class="string">&quot;The only element is:&#123;&#125;&quot;</span>.<span class="built_in">format</span>(all_one - blist))</span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line">alist= [<span class="number">1</span>, <span class="number">3</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">5</span>,<span class="number">66</span>,<span class="number">77</span>,<span class="number">66</span>,<span class="number">77</span>,<span class="number">66</span>]</span><br><span class="line"></span><br><span class="line">findNum(alist)</span><br><span class="line"><span class="comment"># The only element is:&#123;1&#125;</span></span><br></pre></td></tr></table></figure>
<h2 id="7-面向对象上【重点】——此处开始使用Pycharm开发环境"><a href="#7-面向对象上【重点】——此处开始使用Pycharm开发环境" class="headerlink" title="7. 面向对象上【重点】——此处开始使用Pycharm开发环境"></a>7. 面向对象上【重点】——此处开始使用Pycharm开发环境</h2><h3 id="1-面向对象介绍"><a href="#1-面向对象介绍" class="headerlink" title="1. 面向对象介绍"></a>1. 面向对象介绍</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">graph TD</span><br><span class="line">面向过程 --&gt; 函数式</span><br><span class="line">函数式 --&gt; 面向对象</span><br></pre></td></tr></table></figure>
<p>面向过程：首先分析按照什么步骤去实现，然后分解成若干个步骤，并将各个步骤用对应的方法去完成。（怎么做）</p>
<p>面向对象：关注的是设计思维（谁来做）</p>
<h3 id="2-类和对象"><a href="#2-类和对象" class="headerlink" title="2. 类和对象"></a>2. 类和对象</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 实例方法：在类的内部，使用def关键字来定义，第一个默认参数是self</span></span><br><span class="line"><span class="comment"># self【名字标识可以是其他名字，但是这个位置必须被占用】</span></span><br><span class="line"><span class="comment"># 实例方法是归于类的实例所有。还有类方法，实例方法</span></span><br><span class="line"><span class="comment"># 属性：在类的内部定义的变量【类属性】</span></span><br><span class="line"><span class="comment"># 通过类似self.变量名定义的变量【实例属性】</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span>():</span></span><br><span class="line">    name = <span class="string">&quot;Little&quot;</span> <span class="comment">#类属性</span></span><br><span class="line">    age = <span class="number">12</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># def __init__(self):</span></span><br><span class="line">    <span class="comment">#     self.name = &#x27;旺财&#x27; #实例属性</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">eat</span>(<span class="params">self</span>):</span></span><br><span class="line">        print(<span class="string">&quot;开始恰饭&quot;</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&#x27;&#x27;</span></span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">run</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">&#x27;开始跑步&#x27;</span></span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line">concrete_P = Person()</span><br><span class="line"><span class="comment"># print(&quot;这个人的名字是：&#123;&#125;&quot;.format(concrete_P.name))</span></span><br><span class="line"><span class="comment"># concrete_P.eat()</span></span><br><span class="line"><span class="comment"># # 这个人的名字是：旺财</span></span><br><span class="line"><span class="comment"># # 开始恰饭</span></span><br></pre></td></tr></table></figure>
<p>类属性和实例属性的研究</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 类属性 和 实例属性</span></span><br><span class="line"><span class="comment"># # 类属性：就是类对象所拥有的属性</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student</span>():</span></span><br><span class="line">    name = <span class="string">&#x27;李明&#x27;</span> <span class="comment">#属于类属性，就是Student类对象所拥有的</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, age</span>):</span></span><br><span class="line">        self.age = age <span class="comment">#实例属性</span></span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line">lm = Student(<span class="number">18</span>)</span><br><span class="line">print(<span class="string">&quot;李明的名字：&#123;&#125;&quot;</span>.<span class="built_in">format</span>(lm.name))</span><br><span class="line">print(lm.age)</span><br><span class="line"></span><br><span class="line">print(<span class="string">&quot;-----通过类对象去访问name-----&quot;</span>)</span><br><span class="line">print(Student.name)</span><br><span class="line"><span class="comment"># 李明的名字：李明</span></span><br><span class="line"><span class="comment"># 18</span></span><br><span class="line"><span class="comment"># -----通过类对象去访问name-----</span></span><br><span class="line"><span class="comment"># 李明</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 小结</span></span><br><span class="line"><span class="comment"># 类属性是可以被类对象和实例对象共同访问使用的</span></span><br><span class="line"><span class="comment"># 实例属性只能由实例对象所访问</span></span><br><span class="line"></span><br><span class="line">print(<span class="string">&quot;-----对实例进行修改-----&quot;</span>)</span><br><span class="line">xh = Student(<span class="number">22</span>)</span><br><span class="line">print(xh.name)</span><br><span class="line">xh.name = <span class="string">&#x27;花花花&#x27;</span></span><br><span class="line">print(xh.name)</span><br><span class="line"></span><br><span class="line"><span class="comment"># -----对实例进行修改-----</span></span><br><span class="line"><span class="comment"># 李明</span></span><br><span class="line"><span class="comment"># 花花花</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Student.name = &#x27;刘德华&#x27; #类属性通过类修改</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="3-定义类和创建对象"><a href="#3-定义类和创建对象" class="headerlink" title="3. 定义类和创建对象"></a>3. 定义类和创建对象</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">People</span>():</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self</span>):</span> <span class="comment">#魔术方法</span></span><br><span class="line">        self.name = <span class="string">&#x27;小倩&#x27;</span> <span class="comment">#实例属性</span></span><br><span class="line">        self.sex = <span class="string">&#x27;Male&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">eat</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">        吃的行为</span></span><br><span class="line"><span class="string">        :return:</span></span><br><span class="line"><span class="string">        &#x27;&#x27;&#x27;</span></span><br><span class="line">        print(self.name + <span class="string">&quot;喜欢喝雪碧&quot;</span>)</span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line">Wyl = People()</span><br><span class="line"><span class="comment">#修改/添加实例属性</span></span><br><span class="line">Wyl.name = <span class="string">&#x27;郭攸之&#x27;</span></span><br><span class="line">Wyl.sex = <span class="string">&#x27;Male&#x27;</span></span><br><span class="line">Wyl.age = <span class="number">23</span></span><br><span class="line">Wyl.eat()</span><br><span class="line"><span class="comment"># 郭攸之喜欢喝雪碧</span></span><br><span class="line">print(Wyl.name, Wyl.sex)</span><br><span class="line"><span class="comment"># 郭攸之 Male</span></span><br><span class="line"></span><br><span class="line">Mej = People()</span><br><span class="line">Mej.name = <span class="string">&#x27;郭攸之&#x27;</span></span><br><span class="line">Mej.sex = <span class="string">&#x27;Male&#x27;</span></span><br><span class="line">Mej.age = <span class="number">23</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 如果有n个这样的对象，则要重复进行许多次</span></span><br><span class="line"></span><br><span class="line">Nwt = People()</span><br><span class="line">print(Nwt.sex, Nwt.name) <span class="comment">#直接输出默认值 __init__下面的实例属性</span></span><br><span class="line"><span class="comment"># Male 小倩</span></span><br></pre></td></tr></table></figure>
<h3 id="4-对self的理解"><a href="#4-对self的理解" class="headerlink" title="4. 对self的理解"></a>4. 对self的理解</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 理解self, 是对  对象的  引用，self和对象指向同一个内存地址，可以认识self是对 对象的引用</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span>():</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, pro, name, food</span>):</span></span><br><span class="line">        <span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        :param pro: 专业</span></span><br><span class="line"><span class="string">        :param name: 姓名</span></span><br><span class="line"><span class="string">        :param food: 食物</span></span><br><span class="line"><span class="string">        &#x27;&#x27;&#x27;</span></span><br><span class="line">        self.pro = pro</span><br><span class="line">        self.name = name</span><br><span class="line">        self.food = food</span><br><span class="line">        print(<span class="string">&#x27;----init----执行&#x27;</span>)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">eat</span>(<span class="params">self, name, food</span>):</span></span><br><span class="line">        print(<span class="string">&quot;self是什么：%s, 它的地址是：%s&quot;</span>%(self, <span class="built_in">id</span>(self)))</span><br><span class="line"></span><br><span class="line">        print(<span class="string">&quot;%s喜欢吃%s, 他的专业是%s&quot;</span>%(self.name, self.food, self.pro))</span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__str__</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">        打印对象 自定义对象 内容格式</span></span><br><span class="line"><span class="string">        :return:</span></span><br><span class="line"><span class="string">        &#x27;&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;%s喜欢吃%s, 他的专业是%s&quot;</span>%(self.name, self.food, self.pro)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__new__</span>(<span class="params">cls, *args, **kwargs</span>):</span></span><br><span class="line">        <span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">        创建对象实例的方法 每调用一次 就会生成一个新的对象</span></span><br><span class="line"><span class="string">        :param args:</span></span><br><span class="line"><span class="string">        :param kwargs:</span></span><br><span class="line"><span class="string">        &#x27;&#x27;&#x27;</span></span><br><span class="line">        print(<span class="string">&#x27;----new----执行&#x27;</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">object</span>.__new__(cls)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>
<p>魔术方法的介绍：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># __init__</span></span><br><span class="line"><span class="comment"># __str__</span></span><br><span class="line"><span class="comment"># __new__</span></span><br><span class="line"><span class="comment"># __class__</span></span><br><span class="line"><span class="comment"># ...</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 魔术方法 __str__</span></span><br><span class="line"></span><br><span class="line">print(<span class="string">&#x27;xw is:%s&#x27;</span>%xw)</span><br><span class="line"><span class="comment"># xw is:&lt;__main__.Person object at 0x00000216A1D50FD0&gt; 在没有加入__str__时</span></span><br><span class="line"><span class="comment"># xw is:Little喜欢吃banana, 他的专业是数学                加入     __str__后</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># __new__</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ----new----执行  new最先执行</span></span><br><span class="line"><span class="comment"># ----init----执行 后执行init</span></span><br><span class="line"><span class="comment"># __new__类的实例化方法 必须要返回该对象，否则对象创建不成功，一般用在单例实例化中</span></span><br><span class="line"><span class="comment"># __init__ 用来做数据属性的初始化工作，也可以认为是实例的构造方法，接受类的实例</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>案例：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> time <span class="comment"># 导入时间的包</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Haro</span>():</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__new__</span>(<span class="params">cls, *args, **kwargs</span>):</span></span><br><span class="line">        print(<span class="string">&quot;————创建游戏对象————&quot;</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">object</span>.__new__(cls)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, name, blood</span>):</span></span><br><span class="line">        <span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        :param name: 角色名</span></span><br><span class="line"><span class="string">        :param blood: 血量</span></span><br><span class="line"><span class="string">        &#x27;&#x27;&#x27;</span></span><br><span class="line">        self.name = name</span><br><span class="line">        self.blood = blood</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">tong</span>(<span class="params">self, enemy</span>):</span></span><br><span class="line">        <span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">        捅一刀扣血10点</span></span><br><span class="line"><span class="string">        :param enemy: 敌人</span></span><br><span class="line"><span class="string">        :return:</span></span><br><span class="line"><span class="string">        &#x27;&#x27;&#x27;</span></span><br><span class="line">        enemy.blood -= <span class="number">10</span></span><br><span class="line">        info = <span class="string">&#x27;【%s】捅了【%s】一刀&#x27;</span> %(self.name, enemy.name)</span><br><span class="line">        print(info)</span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">kanren</span>(<span class="params">self, enemy</span>):</span></span><br><span class="line">        <span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">        砍一刀扣血15点</span></span><br><span class="line"><span class="string">        :param enemy:</span></span><br><span class="line"><span class="string">        :return:</span></span><br><span class="line"><span class="string">        &#x27;&#x27;&#x27;</span></span><br><span class="line">        enemy.blood -= <span class="number">15</span></span><br><span class="line">        info = <span class="string">&#x27;【%s】砍了【%s】一刀&#x27;</span> % (self.name, enemy.name)</span><br><span class="line">        print(info)</span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">chiyao</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">        吃药补血10点</span></span><br><span class="line"><span class="string">        :param enemy:</span></span><br><span class="line"><span class="string">        :return:</span></span><br><span class="line"><span class="string">        &#x27;&#x27;&#x27;</span></span><br><span class="line">        self.blood += <span class="number">10</span></span><br><span class="line">        info = <span class="string">&#x27;【%s】吃了一颗药，增加了10点血&#x27;</span> %self.name</span><br><span class="line">        print(info)</span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__str__</span>(<span class="params">self</span>):</span></span><br><span class="line">        info = <span class="string">&#x27;【%s】目前的血量是【%s】&#x27;</span> %(self.name, self.blood)</span><br><span class="line">        <span class="keyword">return</span>  info</span><br><span class="line"></span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line">A = Haro(<span class="string">&#x27;小A&#x27;</span>, <span class="number">100</span>)</span><br><span class="line">B = Haro(<span class="string">&#x27;小B&#x27;</span>, <span class="number">100</span>)</span><br><span class="line">A.kanren(B)</span><br><span class="line">A.chiyao()</span><br><span class="line">print(A)</span><br><span class="line">print(B)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">print(<span class="string">&quot;---------------------------------------&quot;</span>)</span><br><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">    <span class="keyword">if</span> A.blood &lt;= <span class="number">0</span> <span class="keyword">or</span> B.blood &lt;= <span class="number">0</span>:</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line">    A.kanren(B)</span><br><span class="line">    A.chiyao()</span><br><span class="line">    print(A)</span><br><span class="line">    print(B)</span><br><span class="line">    time.sleep(<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">print(<span class="string">&quot;对战结束&quot;</span>)</span><br></pre></td></tr></table></figure>
<h2 id="8-面向对象中——析构函数-继承-多态"><a href="#8-面向对象中——析构函数-继承-多态" class="headerlink" title="8. 面向对象中——析构函数/继承/多态"></a>8. 面向对象中——析构函数/继承/多态</h2><h3 id="1-析构函数"><a href="#1-析构函数" class="headerlink" title="1. 析构函数"></a>1. 析构函数</h3><p>OOP三大特征：封装，继承，多态</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 类的继承</span></span><br><span class="line"><span class="comment"># 父类的调用</span></span><br><span class="line"><span class="comment"># 静态方法、</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">当一个对象被删除或者销毁时，python解释器会默认调用一个方法__del__()</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Animal</span>():</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__new__</span>(<span class="params">cls, *args, **kwargs</span>):</span></span><br><span class="line">        print(<span class="string">&quot;开始析构&quot;</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">object</span>.__new__(cls)</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, name</span>):</span></span><br><span class="line">        self.name = name</span><br><span class="line">        print(<span class="string">&quot;析构初始化方法&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__del__</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="comment">#主要的作用是来销毁对象</span></span><br><span class="line">        print(<span class="string">&quot;析构销毁，%s对象被销毁了&quot;</span>%self.name)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">cat = Animal(<span class="string">&quot;狸花猫&quot;</span>)</span><br><span class="line"><span class="comment"># del cat 手动清理删除</span></span><br><span class="line"></span><br><span class="line">print(cat.name)</span><br><span class="line"><span class="comment"># 开始析构</span></span><br><span class="line"><span class="comment"># 析构初始化方法</span></span><br><span class="line"><span class="comment"># 狸花猫</span></span><br><span class="line"><span class="comment"># 析构销毁，狸花猫对象被销毁了</span></span><br></pre></td></tr></table></figure>
<h3 id="2-单继承"><a href="#2-单继承" class="headerlink" title="2. 单继承"></a>2. 单继承</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 封装：将内容封装到某个地方，便于以后的使用</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">对于封装方法，就是使用初始化构造方法将内容封装到对象中，然后通过对对象直接或者self来获取被封装的内容</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 继承：子继承父的【属性和方法】父亲有的孩子有，但是孩子有的父亲未必有</span></span><br><span class="line"><span class="comment"># 极大的提高效率，减少代码的重复编写，便于拓展</span></span><br><span class="line"><span class="comment"># 父类</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Animal</span>():</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">eat</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">        吃</span></span><br><span class="line"><span class="string">        :return:</span></span><br><span class="line"><span class="string">        &#x27;&#x27;&#x27;</span></span><br><span class="line">        print(<span class="string">&quot;吃饭了&quot;</span>)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">drink</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">        喝</span></span><br><span class="line"><span class="string">        :return:</span></span><br><span class="line"><span class="string">        &#x27;&#x27;&#x27;</span></span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 子类</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Dog</span>(<span class="params">Animal</span>):</span> <span class="comment">#继承了父类的行为</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">wwj</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">        子类独有的实现</span></span><br><span class="line"><span class="string">        :return:</span></span><br><span class="line"><span class="string">        &#x27;&#x27;&#x27;</span></span><br><span class="line">        print(<span class="string">&quot;小狗汪汪叫&quot;</span>)</span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Cat</span>(<span class="params">Animal</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">mmj</span>(<span class="params">self</span>):</span></span><br><span class="line">        print(<span class="string">&quot;小猫喵喵叫&quot;</span>)</span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line">d1 = Dog()</span><br><span class="line">d1.eat()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">print(<span class="string">&quot;-----行为分隔-----&quot;</span>)</span><br><span class="line">c1 = Cat()</span><br><span class="line">c1.eat()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># class son_class(father_class):</span></span><br><span class="line"><span class="comment">#     &#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="comment">#     子类继承父类中的公共属性</span></span><br><span class="line"><span class="comment">#     &#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure>
<h3 id="3-多继承和间接继承"><a href="#3-多继承和间接继承" class="headerlink" title="3. 多继承和间接继承"></a>3. 多继承和间接继承</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Immortal</span>():</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__new__</span>(<span class="params">cls, *args, **kwargs</span>):</span></span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">object</span>.__new__(cls)</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">fly</span>(<span class="params">self</span>):</span></span><br><span class="line">        print(<span class="string">&quot;Immortal can fly!&quot;</span>)</span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Monkey</span>():</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">eat</span>(<span class="params">self</span>):</span></span><br><span class="line">        print(<span class="string">&quot;Monkey loves peacheds!&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">fly</span>(<span class="params">self</span>):</span> <span class="comment">#方法重复时会如何</span></span><br><span class="line">        print(<span class="string">&quot;Common monkeys cannot fly!&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Monkey_King</span>(<span class="params">Immortal, Monkey</span>):</span></span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line">MM = Monkey_King()</span><br><span class="line">MM.eat()</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">D</span>(<span class="params"><span class="built_in">object</span></span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">eat</span>(<span class="params">self</span>):</span></span><br><span class="line">        print(<span class="string">&quot;D.eat&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">C</span>(<span class="params">D</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">eat</span>(<span class="params">self</span>):</span></span><br><span class="line">        print(<span class="string">&quot;C.eat&quot;</span>)</span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">B</span>(<span class="params">D</span>):</span></span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span>(<span class="params">B, C</span>):</span></span><br><span class="line">    <span class="comment"># def eat(self):</span></span><br><span class="line">    <span class="comment">#     print(&quot;A.eat&quot;)</span></span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line">a = A()</span><br><span class="line">c= C()</span><br><span class="line">a.eat()</span><br><span class="line">print(<span class="string">&quot;----- C test -----&quot;</span>)</span><br><span class="line">c.eat()</span><br><span class="line"><span class="comment"># C.eat</span></span><br><span class="line"><span class="comment"># ----- C test -----</span></span><br><span class="line"><span class="comment"># C.eat</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 先A自己，然后B，然后C，然后D，如果D中没有，就报错</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 魔术方法mro()</span></span><br><span class="line">print(A.mro())</span><br><span class="line"><span class="comment"># [&lt;class &#x27;__main__.A&#x27;&gt;, &lt;class &#x27;__main__.B&#x27;&gt;, &lt;class &#x27;__main__.C&#x27;&gt;, &lt;class &#x27;__main__.D&#x27;&gt;, &lt;class &#x27;object&#x27;&gt;]</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 间接继承</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Grandfather</span>():</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">eat</span>(<span class="params">self</span>):</span></span><br><span class="line">        print(<span class="string">&quot;吃的方法&quot;</span>)</span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Father</span>(<span class="params">Grandfather</span>):</span></span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Son</span>(<span class="params">Father</span>):</span></span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">son = Son()</span><br><span class="line">son.eat()</span><br><span class="line"><span class="comment"># 吃的方法</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="4-重写父类方法"><a href="#4-重写父类方法" class="headerlink" title="4. 重写父类方法"></a>4. 重写父类方法</h3><p>【子类方法名】同【父类方法名】，则前者覆盖后者</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 所谓重写，就是子类中，有一个和父类相同名字的方法，在子类中的方法会覆盖掉父类中的方法</span></span><br><span class="line"><span class="comment"># 为什么要重写：父类的方法已经不满足子类的需要，那么子类就可以完善【重写】父类的方法</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Dog</span>():</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, name, color</span>):</span></span><br><span class="line">        self.name = name</span><br><span class="line">        self.color = color</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">bark</span>(<span class="params">self</span>):</span></span><br><span class="line">        print(<span class="string">&quot;汪汪叫&quot;</span>)</span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">kejiquan</span>(<span class="params">Dog</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, name ,color</span>):</span> <span class="comment">#属于重写父类的方法</span></span><br><span class="line">        <span class="comment"># 调用父类的函数</span></span><br><span class="line">        Dog.__init__(self, name, color)</span><br><span class="line">        <span class="comment"># super().__init__(name, color) #第二种调用父类，自动的找到</span></span><br><span class="line">        <span class="comment"># 扩展其他属性</span></span><br><span class="line">        self.height = <span class="number">10</span></span><br><span class="line">        self.weight = <span class="number">20</span></span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__str__</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;&#123;&#125;颜色是&#123;&#125;，身高是&#123;&#125;，体重是&#123;&#125;&quot;</span> .<span class="built_in">format</span>(self.name, self.color, self.height, self.weight)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">bark</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="built_in">super</span>().bark()</span><br><span class="line">        print(<span class="string">&quot;叫地跟鬼一样&quot;</span>) <span class="comment">#属于重写父类的方法</span></span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line">kj = kejiquan(<span class="string">&#x27;柯基犬&#x27;</span>, <span class="string">&#x27;彩色&#x27;</span>)</span><br><span class="line">kj.bark()</span><br><span class="line">print(kj)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 汪汪叫</span></span><br><span class="line"><span class="comment"># 叫地跟鬼一样</span></span><br><span class="line"><span class="comment"># 柯基犬颜色是彩色，身高是10，体重是20</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="5-类方法和静态方法"><a href="#5-类方法和静态方法" class="headerlink" title="5. 类方法和静态方法"></a>5. 类方法和静态方法</h3><p><strong>1.@classmethod修饰</strong></p>
<p>从方法形式可以看出：类方法的第一个参数是类对象【cls】进而去引用类对象的属性和方法</p>
<p>实例方法的第一个参数必须是【self】, 通过这个self可以去引用类属性和实例属性，若存在相同名称的实例属性和类属性的话，实例属性优先级 【&gt;】 类属性优先级</p>
<p><strong>2.@staticmethod修饰</strong></p>
<p>静态方法不需要定义额外的参数，若是引用属性的话，则可以类对象或者实例对象去引用即可</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">People</span>:</span></span><br><span class="line">    country = <span class="string">&#x27;China&#x27;</span></span><br><span class="line">    <span class="comment">#类方法，使用classmethod来进行修饰</span></span><br><span class="line"><span class="meta">    @classmethod</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">get_country</span>(<span class="params">cls</span>):</span></span><br><span class="line">        <span class="keyword">return</span> cls.country</span><br><span class="line"></span><br><span class="line"><span class="meta">    @classmethod</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">change_country</span>(<span class="params">cls, data</span>):</span></span><br><span class="line">        cls.country = data <span class="comment">#修改类属性的值，在类方法中</span></span><br><span class="line"></span><br><span class="line"><span class="meta">    @staticmethod #静态方法</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">getData</span>():</span></span><br><span class="line">        <span class="keyword">return</span> People.country</span><br><span class="line"></span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line">print(<span class="string">&quot;静态方法：%s&quot;</span>%People.getData()) <span class="comment">#一般不会使用实例对象去访问静态方法</span></span><br><span class="line"></span><br><span class="line">print(<span class="string">&quot;类对象访问：%s&quot;</span>%People.get_country()) <span class="comment">#通过类对象去引用</span></span><br><span class="line"></span><br><span class="line">lm = People()</span><br><span class="line">print(<span class="string">&quot;实例对象访问：&#123;&#125;&quot;</span>.<span class="built_in">format</span>(lm.get_country()))</span><br><span class="line"></span><br><span class="line">People.change_country(<span class="string">&#x27;英国&#x27;</span>)</span><br><span class="line">print(<span class="string">&quot;----修改之后----&quot;</span>)</span><br><span class="line">print(<span class="string">&quot;修改之后的数据：%s&quot;</span>%People.get_country())</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 由于静态方法主要存放逻辑性的代码，本身和类以及实例对象没有交互</span></span><br><span class="line"><span class="comment"># 也就是在静态方法中不会涉及到类中方法和属性的操作</span></span><br><span class="line"><span class="comment"># 数据资源能够得到充分有效的利用</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 静态方法：China</span></span><br><span class="line"><span class="comment"># 类对象访问：China</span></span><br><span class="line"><span class="comment"># 实例对象访问：China</span></span><br><span class="line"><span class="comment"># ----修改之后----</span></span><br><span class="line"><span class="comment"># 修改之后的数据：英国</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># demo 返回当前的系统时间</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TimeTest</span>():</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self,hour, <span class="built_in">min</span>, second</span>):</span></span><br><span class="line">        self.hour = hour</span><br><span class="line">        self.<span class="built_in">min</span> = <span class="built_in">min</span></span><br><span class="line">        self.second = second</span><br><span class="line"></span><br><span class="line"><span class="meta">    @staticmethod</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">showTime</span>():</span></span><br><span class="line">        <span class="keyword">return</span> time.strftime(<span class="string">&#x27;%H:%M:%S&#x27;</span>, time.localtime())</span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line">print(TimeTest.showTime())</span><br><span class="line"><span class="comment"># 15:43:59</span></span><br><span class="line"></span><br><span class="line">t = TimeTest(<span class="number">2</span>,<span class="number">10</span>,<span class="number">15</span>)</span><br><span class="line">print(t.showTime()) <span class="comment">#没有必要使用这种方式访问静态方法</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="6-多态"><a href="#6-多态" class="headerlink" title="6. 多态"></a>6. 多态</h3><p><strong>多态的作用</strong>： </p>
<ol>
<li>增加程序的灵活性</li>
<li>增加程序的扩展性</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 多态：多种状态或者说形态对于不同的子类【对象】有不同的行为表现</span></span><br><span class="line"><span class="comment"># 要想实现多态，必须有两个前提需要遵守：1.继承关系【多态必须发生在父类和子类之间】</span></span><br><span class="line"><span class="comment"># 2.重写【子类重写父类的方法】</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Animal</span>:</span></span><br><span class="line">    <span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">    父类【基类】</span></span><br><span class="line"><span class="string">    &#x27;&#x27;&#x27;</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">say_who</span>(<span class="params">self</span>):</span></span><br><span class="line">        print(<span class="string">&quot;我是一个动物&quot;</span>)</span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Duck</span>(<span class="params">Animal</span>):</span></span><br><span class="line">    <span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">    子类【派生类】</span></span><br><span class="line"><span class="string">    &#x27;&#x27;&#x27;</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">say_who</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">        在这里重写父类的方法</span></span><br><span class="line"><span class="string">        :return:</span></span><br><span class="line"><span class="string">        &#x27;&#x27;&#x27;</span></span><br><span class="line">        print(<span class="string">&#x27;我是一只漂亮的鸭子&#x27;</span>)</span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Dog</span>(<span class="params">Animal</span>):</span></span><br><span class="line">    <span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">    子类【派生类】</span></span><br><span class="line"><span class="string">    &#x27;&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">say_who</span>(<span class="params">self</span>):</span></span><br><span class="line">        print(<span class="string">&#x27;我是一只萨摩耶&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Bird</span>(<span class="params">Animal</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">say_who</span>(<span class="params">self</span>):</span></span><br><span class="line">        print(<span class="string">&quot;我是一只八哥&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">People</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">say_who</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student</span>(<span class="params">People</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">say_who</span>(<span class="params">self</span>):</span></span><br><span class="line">        print(<span class="string">&quot;我是四年级学生森下下市&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">commonInvoke</span>(<span class="params">obj</span>):</span></span><br><span class="line">    <span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">    统一调用的方法</span></span><br><span class="line"><span class="string">    :param obj: 对象的实例</span></span><br><span class="line"><span class="string">    :return:</span></span><br><span class="line"><span class="string">    &#x27;&#x27;&#x27;</span></span><br><span class="line">    obj.say_who()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># duck1 = Duck()</span></span><br><span class="line"><span class="comment"># duck1.say_who()</span></span><br><span class="line"><span class="comment"># dog1 = Dog()</span></span><br><span class="line"><span class="comment"># dog1.say_who()</span></span><br><span class="line"><span class="comment"># # 我是一只漂亮的鸭子</span></span><br><span class="line"><span class="comment"># # 我是一只萨摩耶</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">listObj = [Duck(), Dog(), Bird(), Student()]</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> item <span class="keyword">in</span> listObj:</span><br><span class="line">    <span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">    循环调用函数</span></span><br><span class="line"><span class="string">    &#x27;&#x27;&#x27;</span></span><br><span class="line">    concrete_Item = item</span><br><span class="line">    commonInvoke(concrete_Item)</span><br><span class="line">    commonInvoke(item)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 我是一只漂亮的鸭子</span></span><br><span class="line"><span class="comment"># 我是一只漂亮的鸭子</span></span><br><span class="line"><span class="comment"># 我是一只萨摩耶</span></span><br><span class="line"><span class="comment"># 我是一只萨摩耶</span></span><br><span class="line"><span class="comment"># 我是一只八哥</span></span><br><span class="line"><span class="comment"># 我是一只八哥</span></span><br><span class="line"><span class="comment"># 我是四年级学生森下下市</span></span><br><span class="line"><span class="comment"># 我是四年级学生森下下市</span></span><br></pre></td></tr></table></figure>
<h2 id="9-面向对象【下】——"><a href="#9-面向对象【下】——" class="headerlink" title="9. 面向对象【下】——"></a>9. 面向对象【下】——</h2><h2 id="正则表达式"><a href="#正则表达式" class="headerlink" title="正则表达式"></a>正则表达式</h2>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2020/11/26/mlp-workshop-5/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Yulin Wang">
      <meta itemprop="description" content="要讲武德，要努力学习。">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="浑元形意太极门大弟子">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/11/26/mlp-workshop-5/" class="post-title-link" itemprop="url">mlp workshop 5</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2020-11-26 10:31:18 / 修改时间：10:33:32" itemprop="dateCreated datePublished" datetime="2020-11-26T10:31:18+08:00">2020-11-26</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Setup"><a href="#Setup" class="headerlink" title="Setup"></a>Setup</h1><h2 id="1-1-Packages"><a href="#1-1-Packages" class="headerlink" title="1.1 Packages"></a>1.1 Packages</h2><p>First, the version of scikit-learn on noteable is slightly out of date so we will update it if necessary (this may take a minute or two),</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pkg_resources</span><br><span class="line"><span class="keyword">if</span> pkg_resources.get_distribution(<span class="string">&quot;scikit-learn&quot;</span>).version != <span class="string">&#x27;0.22.1&#x27;</span>:</span><br><span class="line">    !conda install --yes scikit-learn</span><br></pre></td></tr></table></figure>
<p>In the cell below we will load the core libraries we will be using for this workshop and setting some sensible defaults for our plot size and resolution. </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Display plots inline</span></span><br><span class="line">%matplotlib inline</span><br><span class="line"></span><br><span class="line"><span class="comment"># Data libraries</span></span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line"><span class="comment"># Plotting libraries</span></span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> seaborn <span class="keyword">as</span> sns</span><br><span class="line"></span><br><span class="line"><span class="comment"># Plotting defaults</span></span><br><span class="line">plt.rcParams[<span class="string">&#x27;figure.figsize&#x27;</span>] = (<span class="number">8</span>,<span class="number">5</span>)</span><br><span class="line">plt.rcParams[<span class="string">&#x27;figure.dpi&#x27;</span>] = <span class="number">80</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># sklearn modules</span></span><br><span class="line"><span class="keyword">import</span> sklearn</span><br><span class="line"><span class="keyword">from</span> sklearn.metrics <span class="keyword">import</span> mean_squared_error</span><br><span class="line"><span class="keyword">from</span> sklearn.pipeline <span class="keyword">import</span> make_pipeline</span><br><span class="line"><span class="keyword">from</span> sklearn.model_selection <span class="keyword">import</span> GridSearchCV, KFold</span><br></pre></td></tr></table></figure>
<hr>
<h2 id="1-2-Helper-Functions"><a href="#1-2-Helper-Functions" class="headerlink" title="1.2 Helper Functions"></a>1.2 Helper Functions</h2><p>Below are two helper functions we will be using throughout the lab.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_coefs</span>(<span class="params">m</span>):</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot;Returns the model coefficients from a Scikit-learn model object as an array,</span></span><br><span class="line"><span class="string">    includes the intercept if available.</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> m.intercept_ <span class="keyword">is</span> <span class="literal">None</span>:</span><br><span class="line">        <span class="keyword">return</span> m.coef_</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> np.concatenate([[m.intercept_], m.coef_])</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">model_fit</span>(<span class="params">m, X, y, plot = <span class="literal">False</span></span>):</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot;Returns the root mean squared error of a fitted model based on provided X and y values.</span></span><br><span class="line"><span class="string">    </span></span><br><span class="line"><span class="string">    Args:</span></span><br><span class="line"><span class="string">        m: sklearn model object</span></span><br><span class="line"><span class="string">        X: model matrix to use for prediction</span></span><br><span class="line"><span class="string">        y: outcome vector to use to calculating rmse and residuals</span></span><br><span class="line"><span class="string">        plot: boolean value, should fit plots be shown </span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    </span><br><span class="line">    y_hat = m.predict(X)</span><br><span class="line">    rmse = mean_squared_error(y, y_hat, squared=<span class="literal">False</span>)</span><br><span class="line">    </span><br><span class="line">    res = pd.DataFrame(</span><br><span class="line">        data = &#123;<span class="string">&#x27;y&#x27;</span>: y, <span class="string">&#x27;y_hat&#x27;</span>: y_hat, <span class="string">&#x27;resid&#x27;</span>: y - y_hat&#125;</span><br><span class="line">    )</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> plot:</span><br><span class="line">        plt.figure(figsize=(<span class="number">12</span>, <span class="number">6</span>))</span><br><span class="line">        </span><br><span class="line">        plt.subplot(<span class="number">121</span>)</span><br><span class="line">        sns.lineplot(x=<span class="string">&#x27;x&#x27;</span>, y=<span class="string">&#x27;y&#x27;</span>, color=<span class="string">&quot;grey&quot;</span>, data =  pd.DataFrame(data=&#123;<span class="string">&#x27;x&#x27;</span>: [<span class="built_in">min</span>(y),<span class="built_in">max</span>(y)], <span class="string">&#x27;y&#x27;</span>: [<span class="built_in">min</span>(y),<span class="built_in">max</span>(y)]&#125;))</span><br><span class="line">        sns.scatterplot(x=<span class="string">&#x27;y&#x27;</span>, y=<span class="string">&#x27;y_hat&#x27;</span>, data=res).set_title(<span class="string">&quot;Fit plot&quot;</span>)</span><br><span class="line">        </span><br><span class="line">        plt.subplot(<span class="number">122</span>)</span><br><span class="line">        sns.scatterplot(x=<span class="string">&#x27;y&#x27;</span>, y=<span class="string">&#x27;resid&#x27;</span>, data=res).set_title(<span class="string">&quot;Residual plot&quot;</span>)</span><br><span class="line">        </span><br><span class="line">        plt.subplots_adjust(left=<span class="number">0.0</span>)</span><br><span class="line">        </span><br><span class="line">        plt.suptitle(<span class="string">&quot;Model rmse = &quot;</span> + <span class="built_in">str</span>(<span class="built_in">round</span>(rmse, <span class="number">4</span>)), fontsize=<span class="number">16</span>)</span><br><span class="line">        plt.show()</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> rmse</span><br></pre></td></tr></table></figure>
<hr>
<h2 id="1-3-Data"><a href="#1-3-Data" class="headerlink" title="1.3 Data"></a>1.3 Data</h2><p>The data for this week’s workshop comes from the Elements of Statistical Learning textbook. The data originally come from a study by Stamey et al. (1989) in which they examined the relationship between the level of prostate-specific antigen (<code>psa</code>) and a number of clinical measures in men who were about to receive a prostatectomy. The variables are as follows,</p>
<ul>
<li><code>lpsa</code> - log of the level of prostate-specific antigen</li>
<li><code>lcavol</code> - log cancer volume</li>
<li><code>lweight</code> - log prostate weight</li>
<li><code>age</code> - patient age</li>
<li><code>lbph</code> - log of the amount of benight prostatic hyperplasia</li>
<li><code>svi</code> - seminal vesicle invasion</li>
<li><code>lcp</code> - log of capsular penetration</li>
<li><code>gleason</code> - Gleason score</li>
<li><code>pgg45</code> - percent of Gleason scores 4 or 5</li>
<li><code>train</code> - test / train split used in ESL</li>
</ul>
<p>These data are available in <code>prostate.csv</code> which is provided with this worksheet. </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">prostate = pd.read_csv(<span class="string">&#x27;prostate.csv&#x27;</span>)</span><br><span class="line">prostate</span><br></pre></td></tr></table></figure>
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }


    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }

</style>

<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>lcavol</th>
      <th>lweight</th>
      <th>age</th>
      <th>lbph</th>
      <th>svi</th>
      <th>lcp</th>
      <th>gleason</th>
      <th>pgg45</th>
      <th>lpsa</th>
      <th>train</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>-0.579818</td>
      <td>2.769459</td>
      <td>50</td>
      <td>-1.386294</td>
      <td>0</td>
      <td>-1.386294</td>
      <td>6</td>
      <td>0</td>
      <td>-0.430783</td>
      <td>T</td>
    </tr>
    <tr>
      <th>1</th>
      <td>-0.994252</td>
      <td>3.319626</td>
      <td>58</td>
      <td>-1.386294</td>
      <td>0</td>
      <td>-1.386294</td>
      <td>6</td>
      <td>0</td>
      <td>-0.162519</td>
      <td>T</td>
    </tr>
    <tr>
      <th>2</th>
      <td>-0.510826</td>
      <td>2.691243</td>
      <td>74</td>
      <td>-1.386294</td>
      <td>0</td>
      <td>-1.386294</td>
      <td>7</td>
      <td>20</td>
      <td>-0.162519</td>
      <td>T</td>
    </tr>
    <tr>
      <th>3</th>
      <td>-1.203973</td>
      <td>3.282789</td>
      <td>58</td>
      <td>-1.386294</td>
      <td>0</td>
      <td>-1.386294</td>
      <td>6</td>
      <td>0</td>
      <td>-0.162519</td>
      <td>T</td>
    </tr>
    <tr>
      <th>4</th>
      <td>0.751416</td>
      <td>3.432373</td>
      <td>62</td>
      <td>-1.386294</td>
      <td>0</td>
      <td>-1.386294</td>
      <td>6</td>
      <td>0</td>
      <td>0.371564</td>
      <td>T</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>92</th>
      <td>2.830268</td>
      <td>3.876396</td>
      <td>68</td>
      <td>-1.386294</td>
      <td>1</td>
      <td>1.321756</td>
      <td>7</td>
      <td>60</td>
      <td>4.385147</td>
      <td>T</td>
    </tr>
    <tr>
      <th>93</th>
      <td>3.821004</td>
      <td>3.896909</td>
      <td>44</td>
      <td>-1.386294</td>
      <td>1</td>
      <td>2.169054</td>
      <td>7</td>
      <td>40</td>
      <td>4.684443</td>
      <td>T</td>
    </tr>
    <tr>
      <th>94</th>
      <td>2.907447</td>
      <td>3.396185</td>
      <td>52</td>
      <td>-1.386294</td>
      <td>1</td>
      <td>2.463853</td>
      <td>7</td>
      <td>10</td>
      <td>5.143124</td>
      <td>F</td>
    </tr>
    <tr>
      <th>95</th>
      <td>2.882564</td>
      <td>3.773910</td>
      <td>68</td>
      <td>1.558145</td>
      <td>1</td>
      <td>1.558145</td>
      <td>7</td>
      <td>80</td>
      <td>5.477509</td>
      <td>T</td>
    </tr>
    <tr>
      <th>96</th>
      <td>3.471966</td>
      <td>3.974998</td>
      <td>68</td>
      <td>0.438255</td>
      <td>1</td>
      <td>2.904165</td>
      <td>7</td>
      <td>20</td>
      <td>5.582932</td>
      <td>F</td>
    </tr>
  </tbody>
</table>
<p>97 rows × 10 columns</p>

</div>



<p>As before we will begin by constructing a pairs plot of our data and examining the relationships between our variables.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sns.pairplot(data=prostate)</span><br></pre></td></tr></table></figure>
<pre><code>&lt;seaborn.axisgrid.PairGrid at 0x7f2b896f8710&gt;
</code></pre><hr>
<h3 id="diams-Exercise-1"><a href="#diams-Exercise-1" class="headerlink" title="&diams; Exercise 1"></a>&diams; Exercise 1</h3><p>Are there any interesting patterns in these data? Specifically, your answer should address,</p>
<ul>
<li>Do any of our variables appear to be categorical / ordinal rather than numeric?</li>
<li><p>Which variable appears likely to have the strongest relationship with <code>lpsa</code>?</p>
</li>
<li><p><em><code>svi</code> and <code>gleason</code> can both potentially be considered categorical. <code>gleason</code> in particular is an ordinal variable</em></p>
</li>
<li><em><code>lcavol</code> seems to have the clearest relationship with <code>lpsa</code>.</em></li>
</ul>
<hr>
<h3 id="diams-Exercise-2"><a href="#diams-Exercise-2" class="headerlink" title="&diams; Exercise 2"></a>&diams; Exercise 2</h3><p>Why do you think we are exploring the relationship between these variables and the log of <code>psa</code> rather than just <code>psa</code>?</p>
<p><em><code>psa</code> is very right skewed, transforming it in this way gives a symmetric and more “normal” distribution.</em></p>
<hr>
<h2 id="1-4-Validation-Set"><a href="#1-4-Validation-Set" class="headerlink" title="1.4 Validation Set"></a>1.4 Validation Set</h2><p>For these data we have already been provided a column to indicate which values should be used for the training set and which for the validation set. This is encoded by the values in the <code>train</code> column - we can use these columns to separate our data and generate our training data: <code>Xt</code> and <code>yt</code> as well as our validation data <code>Xv</code> and <code>yv</code>. As we will also need the complete data set we will also construct <code>X</code> and <code>y</code>, which contain all 97 observations but without the <code>train</code> column.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Create train and validate data frames</span></span><br><span class="line">train = prostate.query(<span class="string">&quot;train == &#x27;T&#x27;&quot;</span>).drop(<span class="string">&#x27;train&#x27;</span>, axis=<span class="number">1</span>)</span><br><span class="line">validate = prostate.query(<span class="string">&quot;train == &#x27;F&#x27;&quot;</span>).drop(<span class="string">&#x27;train&#x27;</span>, axis=<span class="number">1</span>)</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Training data</span></span><br><span class="line">Xt = train.drop([<span class="string">&#x27;lpsa&#x27;</span>], axis=<span class="number">1</span>)</span><br><span class="line">yt = train.lpsa</span><br><span class="line"></span><br><span class="line">print(<span class="string">&#x27;Xt:&#x27;</span>, Xt.shape)</span><br><span class="line">print(<span class="string">&#x27;yt:&#x27;</span>, yt.shape)</span><br></pre></td></tr></table></figure>
<pre><code>Xt: (67, 8)
yt: (67,)
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Validation data</span></span><br><span class="line">Xv = validate.drop(<span class="string">&#x27;lpsa&#x27;</span>, axis=<span class="number">1</span>)</span><br><span class="line">yv = validate.lpsa</span><br><span class="line"></span><br><span class="line">print(<span class="string">&quot;Xv:&quot;</span>, Xv.shape)</span><br><span class="line">print(<span class="string">&quot;yv:&quot;</span>, yv.shape)</span><br></pre></td></tr></table></figure>
<pre><code>Xv: (30, 8)
yv: (30,)
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Complete data</span></span><br><span class="line">X = prostate.drop([<span class="string">&#x27;lpsa&#x27;</span>,<span class="string">&#x27;train&#x27;</span>], axis=<span class="number">1</span>)</span><br><span class="line">y = prostate.lpsa</span><br><span class="line"></span><br><span class="line">print(<span class="string">&quot;X:&quot;</span>, X.shape)</span><br><span class="line">print(<span class="string">&quot;y:&quot;</span>, y.shape)</span><br></pre></td></tr></table></figure>
<pre><code>X: (97, 8)
y: (97,)
</code></pre><hr>
<h2 id="1-5-Baseline-model"><a href="#1-5-Baseline-model" class="headerlink" title="1.5 Baseline model"></a>1.5 Baseline model</h2><p>Our first task is to fit a baseline model which we will be able to use as a point of comparison for our subsequent models. A good candidate for this is a simple linear regression model that includes all of our features.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.linear_model <span class="keyword">import</span> LinearRegression</span><br><span class="line">lm = LinearRegression().fit(Xt, yt)</span><br></pre></td></tr></table></figure>
<p>We can extract the coefficients for the model, which correspond to the variables: <code>intercept</code>, <code>lcavol</code>, <code>lweight</code>, <code>age</code>, <code>lbph</code>, <code>svi</code>, <code>lcp</code>, <code>gleason</code>, and <code>pgg45</code> respectively.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">get_coefs(lm)</span><br></pre></td></tr></table></figure>
<pre><code>array([ 0.42917013,  0.57654319,  0.61402   , -0.01900102,  0.14484808,
        0.73720864, -0.20632423, -0.02950288,  0.00946516])
</code></pre><p>These coefficients have the typical regression interpretation, e.g. for each unit increase in <code>lcavol</code> we expect <code>lpsa</code> to increase by 0.577 on average. These values are not of particular interest for us for this particular problem as we are more interested in the predictive properties of our model(s). To evaluate this we will use the <code>model_fit</code> helper function defined above. </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">model_fit(lm, Xv, yv, plot=<span class="literal">True</span>)</span><br></pre></td></tr></table></figure>
<pre><code>0.7219930785731963
</code></pre><p>Primarily we will use this function to obtain the rmse of our model using the validation data (<code>Xv</code> and <code>yv</code>). Note that we fit the model using the training data (<code>Xt</code> and <code>yt</code>). We have also included a fit ($y$ vs $\hat{y}$) and resid ($y$ vs $y-\hat{y}$) plot of these results.</p>
<hr>
<h3 id="diams-Exercise-3"><a href="#diams-Exercise-3" class="headerlink" title="&diams; Exercise 3"></a>&diams; Exercise 3</h3><p>Based on these plots do you see anything in the fit or residual plot that is potentially concerning?</p>
<p><em>Model appears to be shrinking <code>lpsa</code> values towards the overall mean - small values are over predicted while large values are underpredicted.</em></p>
<hr>
<h3 id="diams-Exercise-4"><a href="#diams-Exercise-4" class="headerlink" title="&diams; Exercise 4"></a>&diams; Exercise 4</h3><p>Would you expect the rmse of the model to be better or worse when using the training data (compared to the validation data)? Check your answer using the <code>model_fit</code> function.</p>
<p><em>Most of the time the validation data should have a worse rmse than the training data since fitting the least squares estimate is equivalent to minimizing the rmse</em></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">model_fit(lm, Xt, yt)</span><br></pre></td></tr></table></figure>
<pre><code>0.662721486039448
</code></pre><hr>
<h2 id="1-6-Scaling"><a href="#1-6-Scaling" class="headerlink" title="1.6 Scaling"></a>1.6 Scaling</h2><p>In subsequent sections we will be exploring the use of the Ridge and Lasso regression models which both penalize larger values of $\beta$. While not particularly bad, our baseline model has $\beta$s that ranged from the smallest at 0.0095 to the largest at 0.737 which is about a 78x difference in magnitude. This difference can be made even worse if we were to change the units of one of our features, e.g. changing a measurement in kg to grams would change that coefficient by 1000 which has no effect on the fit of our linear regression model (predictions and other coefficients would be unchanged) but would have a meaningful impact on the estimates given by a Ridge or Lasso regression model, since that coefficient would now dominate the penalty term.</p>
<p>To deal with this issue, the standard approach is to scale <em>all</em> features to be on a common scale before fitting one of these models. The typical scaling approach is to subtract the mean of each feature and then divide by the standard deviation - this results in each feature column having a mean of 0 and a variance of 1. Additionally, the feature values can now be interpreted as the number of standard deviations away from the mean. </p>
<p>Using sklearn we can perform this transformation using the <code>StandardScaler</code> transformer from the <code>preprocessing</code> submodule.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.preprocessing <span class="keyword">import</span> StandardScaler</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">S = StandardScaler().fit(X)</span><br></pre></td></tr></table></figure>
<p>Note, that when constructing the scaler object we are using the complete data set <code>X</code> and not the training or validation data. Once we have <code>fit</code> the transformer to the complete data we use it to transform the training and validation data separately to generate <code>Xt_scaled</code> and <code>Xv_scaled</code> respectively.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Xt_scaled = S.transform(Xt)</span><br><span class="line">Xv_scaled = S.transform(Xv)</span><br></pre></td></tr></table></figure>
<hr>
<h3 id="diams-Exercise-5"><a href="#diams-Exercise-5" class="headerlink" title="&diams; Exercise 5"></a>&diams; Exercise 5</h3><p>Explain why we are only transforming <code>Xt</code> and <code>Xv</code> and not <code>yt</code> and <code>yv</code>?</p>
<p><em>Only the scaling of the features affects the penalty in Ridge and Lasso - scaling <code>y</code> would change the betas but in a systematic fashion that will be accounted for by a change in $\alpha$, i.e. same predictive performance</em></p>
<hr>
<h3 id="diams-Exercise-6"><a href="#diams-Exercise-6" class="headerlink" title="&diams; Exercise 6"></a>&diams; Exercise 6</h3><p>What are the units of the transformed features in <code>Xt_scaled</code> and <code>Xv_scaled</code>? </p>
<p><em>All of the features are now unitless</em></p>
<hr>
<h2 id="1-7-Scaled-Linear-Regression"><a href="#1-7-Scaled-Linear-Regression" class="headerlink" title="1.7 Scaled Linear Regression"></a>1.7 Scaled Linear Regression</h2><p>Now that we have scaled the data, let us fit another simple linear regression model using these scaled features. </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">lm_scaled = LinearRegression().fit(Xt_scaled, yt)</span><br></pre></td></tr></table></figure>
<p>Once fit we can extract the model coefficients and calculate the validation rmse,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">get_coefs(lm_scaled)</span><br></pre></td></tr></table></figure>
<pre><code>array([ 2.46493292,  0.67601634,  0.26169361, -0.14073374,  0.20906052,
        0.30362332, -0.28700184, -0.02119493,  0.26557614])
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">model_fit(lm_scaled, Xv_scaled, yv, plot=<span class="literal">False</span>)</span><br></pre></td></tr></table></figure>
<pre><code>0.7219930785731955
</code></pre><hr>
<h3 id="diams-Exercise-7"><a href="#diams-Exercise-7" class="headerlink" title="&diams; Exercise 7"></a>&diams; Exercise 7</h3><p>Using this new model what has changed about our model results? Comment on both the model’s coefficients as well as its predictive performance.</p>
<p><em>Rescaling the features causes the $\beta$s to change but the model is effectively the same and has the same predictive performance as the previous model.</em></p>
<hr>
<h1 id="2-Ridge-Regression"><a href="#2-Ridge-Regression" class="headerlink" title="2. Ridge Regression"></a>2. Ridge Regression</h1><p>Ridge regression is a natural extension to linear regression which introduces an $\ell_2$ penalty on the coefficients to a standard least squares problem. Mathematically, we can express this as the following optimization problem,</p>
<script type="math/tex; mode=display">\underset{\boldsymbol{\beta}}{\text{argmin}} \; \lVert \boldsymbol{y} - \boldsymbol{X} \boldsymbol{\beta} \rVert^2 + \alpha (\boldsymbol{\beta}^T\boldsymbol{\beta})</script><p>The <code>Ridge</code> model is provided by the <code>linear_model</code> submodule and requires a single parameter <code>alpha</code> which determines the tuning parameter for the $\ell_2$ penalty.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.linear_model <span class="keyword">import</span> Ridge</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">r = Ridge(alpha=<span class="number">1</span>).fit(Xt_scaled, yt)</span><br><span class="line">model_fit(r, Xv_scaled, yv, plot=<span class="literal">True</span>)</span><br></pre></td></tr></table></figure>
<pre><code>0.7160588667932858
</code></pre><hr>
<h3 id="diams-Exercise-8"><a href="#diams-Exercise-8" class="headerlink" title="&diams; Exercise 8"></a>&diams; Exercise 8</h3><p>Adjust the value of <code>alpha</code> in the cell above and rerun it. Qualitatively, how does the model fit change as alpha changes? How does the rmse change?</p>
<p><em>Model fit does not change much but rmse improves as alpha is increased until around $\alpha=20$</em></p>
<hr>
<h3 id="diams-Exercise-9"><a href="#diams-Exercise-9" class="headerlink" title="&diams; Exercise 9"></a>&diams; Exercise 9</h3><p>In Section 1.4 we mentioned the importance of scaling features before fitting a Ridge regression model. The code below fits the Ridge model to the untransformed training data - repeat Exercise 8 using these data. How does the model fit change as alpha changes? How does the rmse change? How does the models performance compare to the previous model?</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">r = Ridge(alpha=<span class="number">1</span>).fit(Xt, yt)</span><br><span class="line">model_fit(r, Xv, yv, plot=<span class="literal">True</span>)</span><br></pre></td></tr></table></figure>
<pre><code>0.7220807306906396
</code></pre><p><em>Fit is roughly equivalent and does not change significantly, rmse gets worse as alpha increases, $\alpha=0$ gives the best performance which is worse than performance of the previous model</em></p>
<hr>
<h2 id="2-1-Ridge-beta-s-as-a-function-of-alpha"><a href="#2-1-Ridge-beta-s-as-a-function-of-alpha" class="headerlink" title="2.1 Ridge $\beta$s as a function of $\alpha$"></a>2.1 Ridge $\beta$s as a function of $\alpha$</h2><p>Finally, one of the useful ways of thinking about the behavior of Ridge regression models is to examine the relationship between our choice of $\alpha$ and the resulting $\beta$s relative to the results we would have obtained from the linear regression model. Since Ridge regression is equivalent to linear regression when $\alpha=0$ we can see that as we increase the value of $\alpha$ we are shrinking all of the $\betas$ towards 0 asymptotically.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">alphas = np.logspace(<span class="number">-2</span>, <span class="number">3</span>, num=<span class="number">200</span>) <span class="comment"># from 10^-2 to 10^3</span></span><br><span class="line"></span><br><span class="line">betas = [] <span class="comment"># Store coefficients</span></span><br><span class="line">rmses = [] <span class="comment"># Store validation rmses</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> a <span class="keyword">in</span> alphas:</span><br><span class="line">    m = Ridge(alpha=a).fit(Xt_scaled, yt)</span><br><span class="line">    betas.append(m.coef_) <span class="comment"># We ignore the intercept as it is not included in the l2 penalty and hence not shrunk</span></span><br><span class="line">    rmses.append(model_fit(m, Xv_scaled, yv))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">res = pd.DataFrame(</span><br><span class="line">    data = betas,</span><br><span class="line">    columns = X.columns <span class="comment"># Label columns w/ feature names</span></span><br><span class="line">).assign(</span><br><span class="line">    alpha = alphas,</span><br><span class="line">    rmse = rmses</span><br><span class="line">).melt(</span><br><span class="line">    id_vars = (<span class="string">&#x27;alpha&#x27;</span>, <span class="string">&#x27;rmse&#x27;</span>)</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sns.lineplot(x=<span class="string">&#x27;alpha&#x27;</span>, y=<span class="string">&#x27;value&#x27;</span>, hue=<span class="string">&#x27;variable&#x27;</span>, data=res).set_title(<span class="string">&quot;Coefficients&quot;</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<hr>
<h2 id="2-2-Tuning-with-GridSearchCV"><a href="#2-2-Tuning-with-GridSearchCV" class="headerlink" title="2.2 Tuning with GridSearchCV"></a>2.2 Tuning with GridSearchCV</h2><p>The $\alpha$ in the Ridge regression model is another example of a hyperparameter, and just like the degree in a polynomial model we can use cross validation to attempt to identify the optimal value for our data. As with the polynomial models from last week we will start by using <code>GridSearchCV</code> to employ 5-fold cross validation to determine an optimal $\alpha$.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">alphas = np.linspace(<span class="number">0</span>, <span class="number">15</span>, num=<span class="number">151</span>)</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">gs = GridSearchCV(</span><br><span class="line">    Ridge(),</span><br><span class="line">    param_grid=&#123;<span class="string">&#x27;alpha&#x27;</span>: alphas&#125;,</span><br><span class="line">    cv=KFold(<span class="number">5</span>, <span class="literal">True</span>, random_state=<span class="number">1234</span>),</span><br><span class="line">    scoring=<span class="string">&quot;neg_root_mean_squared_error&quot;</span></span><br><span class="line">).fit(Xt_scaled, yt)</span><br></pre></td></tr></table></figure>
<p>Note that we are passing <code>sklearn.model_selection.KFold(5, True, 1234)</code> to the <code>cv</code> argument rather than leaving it to its default. This is because, while not obvious, the prostate data is structured (sorted by <code>lpsa</code> value) and this way we are able to ensure that the folds are properly shuffled. Failing to do this causes <em>very</em> unreliable results from the cross validation process.</p>
<p>Once fit, we can examine the results to determine what value of $\alpha$ was chosen as well as examine the calculated mean of the rmses.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">print(gs.best_params_)</span><br></pre></td></tr></table></figure>
<pre><code>&#123;&#39;alpha&#39;: 6.4&#125;
</code></pre><p>To evaluate this model we can access the <code>best_estimator_</code> model object and use it to obtain an rmse for our validation data.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">model_fit(gs.best_estimator_, Xv_scaled, yv)</span><br></pre></td></tr></table></figure>
<pre><code>0.7006912547188234
</code></pre><hr>
<h3 id="diams-Exercise-10"><a href="#diams-Exercise-10" class="headerlink" title="&diams; Exercise 10"></a>&diams; Exercise 10</h3><p>How does this model compare to the performance of our baseline model? Is it better or worse?</p>
<p><em>This model performs better (smaller rmse)</em></p>
<hr>
<h3 id="diams-Exercise-11"><a href="#diams-Exercise-11" class="headerlink" title="&diams; Exercise 11"></a>&diams; Exercise 11</h3><p>How do the model coefficient for this model compare to the base line model? <em>Hint</em> - be careful about which baseline model you compare with.</p>
<p><em>Coefficients are smaller (closer to 0) - should compare to <code>lm_scaled</code> not <code>lm</code></em></p>
<hr>
<p>To further explore this choice of $\alpha$, we can collect relevant data about the folds and their performance from the <code>cv_results_</code> attribute. In this case we are particularly interested in examining the <code>mean_test_score</code> and the <code>split#_test_score</code> keys since these are used to determine the optimal $\alpha$.</p>
<p>In the code below we extract these data into a data frame by selecting our columns of interest along with the $\alpha$ values used (and transform negative rmse values into positive values).</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">cv_res = pd.DataFrame(</span><br><span class="line">    data = gs.cv_results_</span><br><span class="line">).<span class="built_in">filter</span>(</span><br><span class="line">    <span class="comment"># Extract the split#_test_score, mean_test_score, and std_test_score columns</span></span><br><span class="line">    regex = <span class="string">&#x27;(split[0-9]+|mean)_test_score&#x27;</span></span><br><span class="line">).assign(</span><br><span class="line">    <span class="comment"># Add the alphas as a column</span></span><br><span class="line">    alpha = alphas</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">cv_res.update(</span><br><span class="line">    <span class="comment"># Convert negative rmses to positive</span></span><br><span class="line">    <span class="number">-1</span> * cv_res.<span class="built_in">filter</span>(regex = <span class="string">&#x27;_test_score&#x27;</span>)</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<p>This data frame can then be used to plot $\alpha$ against the mean root mean squared value over the 5 folds, to produce the following plot.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sns.lineplot(x=<span class="string">&#x27;alpha&#x27;</span>, y=<span class="string">&#x27;mean_test_score&#x27;</span>, data=cv_res)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<p>This plot clearly shows that the value 6.4 is obtained as the minimum of this curve. However, this plot gives us an overly confident view of this choice of this particular value of $\alpha$. Specifically, if instead of just plotting the mean rmse, we also examine the variablility of that estimate as well as examine the $\alpha$ vs rmse curve of each fold we see that these estimates are far noisier than they first appeared and we should take the value $\alpha = 6.4$ with a grain of salt.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">d = cv_res.melt(</span><br><span class="line">    id_vars=(<span class="string">&#x27;alpha&#x27;</span>,<span class="string">&#x27;mean_test_score&#x27;</span>),</span><br><span class="line">    var_name=<span class="string">&#x27;fold&#x27;</span>,</span><br><span class="line">    value_name=<span class="string">&#x27;rmse&#x27;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">sns.lineplot(x=<span class="string">&#x27;alpha&#x27;</span>, y=<span class="string">&#x27;rmse&#x27;</span>, color=<span class="string">&#x27;black&#x27;</span>, ci = <span class="string">&#x27;sd&#x27;</span>, data = d)  <span class="comment"># Plot the mean rmse +/- the std dev of the rmse.</span></span><br><span class="line">sns.lineplot(x=<span class="string">&#x27;alpha&#x27;</span>, y=<span class="string">&#x27;rmse&#x27;</span>, hue=<span class="string">&#x27;fold&#x27;</span>, data = d, legend = <span class="literal">None</span>) <span class="comment"># Plot the curves for each fold</span></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<p>In the plot above the black line shows the mean rmse across the folds (this is the same curve as shown in the previous plot) and the gray interval indicates + and - 1 standard deviation of the rmses. The other colored cuves shows the rmse curve for each of the different folds.</p>
<hr>
<h3 id="diams-Exercise-12"><a href="#diams-Exercise-12" class="headerlink" title="&diams; Exercise 12"></a>&diams; Exercise 12</h3><p>Why do you think that our cross validation results are so unstable?</p>
<p><em>Most likely cause is due to the relatively small size of the data, with 5 fold cross validation the training size is 53 and test size is 14 observations</em></p>
<hr>
<h2 id="2-3-Tuning-with-RidgeCV"><a href="#2-3-Tuning-with-RidgeCV" class="headerlink" title="2.3 Tuning with RidgeCV"></a>2.3 Tuning with RidgeCV</h2><p>Because the process of identifying the value of $\alpha$ is critical to most uses of Ridge regression, sklearn provides a helpful function called <code>RidgeCV</code> which combines <code>Ridge</code> with <code>GridSearchCV</code>. We import this function from <code>linear_model</code> and fit it in the same way.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.linear_model <span class="keyword">import</span> RidgeCV</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">r_cv = RidgeCV(</span><br><span class="line">    alphas = np.linspace(<span class="number">0.1</span>, <span class="number">20</span>, num=<span class="number">200</span>), <span class="comment"># RidgeCV does not allow alpha=0 for some reason</span></span><br><span class="line">    scoring = <span class="string">&quot;neg_root_mean_squared_error&quot;</span></span><br><span class="line">).fit(Xt_scaled, yt)</span><br></pre></td></tr></table></figure>
<p>The resulting model object now has the “optimal” value of $\alpha$ stored in the <code>alpha_</code> attribute which we can access directly.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">r_cv.alpha_</span><br></pre></td></tr></table></figure>
<pre><code>4.1
</code></pre><p>Additionally, the returned object can be used like any other model object to obtain predictions for the fitted model using this value of $\alpha$.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">model_fit(r_cv, Xv_scaled, yv)</span><br></pre></td></tr></table></figure>
<pre><code>0.7048772832703118
</code></pre><hr>
<h3 id="diams-Exercise-12-1"><a href="#diams-Exercise-12-1" class="headerlink" title="&diams; Exercise 12"></a>&diams; Exercise 12</h3><p>This model seems to have arrived at a different optimal value for $\alpha$ compared to using <code>GridSearchCV</code> and it also has a different rmse. Review the documentation for <code>RidgeCV</code>. Can you explain this discrepancy?</p>
<p><em>RidgeCV uses generalized cross validation rather than k-fold cv by default.</em></p>
<hr>
<h3 id="diams-Exercise-13"><a href="#diams-Exercise-13" class="headerlink" title="&diams; Exercise 13"></a>&diams; Exercise 13</h3><p>Refit the model using the RidgeCV in such a way that you obtain a result similar to what was obtained by <code>GridSearchCV</code> (in terms of the optimal $\alpha$ and validation rmse).</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">r_cv2 = RidgeCV(</span><br><span class="line">    alphas=np.linspace(<span class="number">0.1</span>, <span class="number">20</span>, num=<span class="number">200</span>), </span><br><span class="line">    cv=KFold(<span class="number">5</span>, <span class="literal">True</span>, random_state=<span class="number">1234</span>),</span><br><span class="line">    scoring = <span class="string">&quot;neg_root_mean_squared_error&quot;</span></span><br><span class="line">).fit(Xt_scaled, yt)</span><br><span class="line"></span><br><span class="line">print( <span class="string">&quot;alpha:&quot;</span>, r_cv2.alpha_)</span><br><span class="line">print( <span class="string">&quot;rmse:&quot;</span>, model_fit(r_cv2, Xv_scaled, yv) )</span><br></pre></td></tr></table></figure>
<pre><code>alpha: 6.3999999999999995
rmse: 0.7006912547188234
</code></pre><hr>
<h1 id="3-The-Lasso"><a href="#3-The-Lasso" class="headerlink" title="3. The Lasso"></a>3. The Lasso</h1><p>The Lasso is related modeling approach but instead uses an $\ell_1$ penalty on the coefficients. Mathematically, we can express this model as the solution of the following optimization problem,</p>
<script type="math/tex; mode=display">\underset{\boldsymbol{\beta}}{\text{argmin}} \; \lVert \boldsymbol{y} - \boldsymbol{X} \boldsymbol{\beta} \rVert_2^2 + \alpha \lVert \boldsymbol{\beta} \rVert_1</script><p>As with the other models from this worksheet, the <code>Lasso</code> model is provided by the <code>linear_model</code> submodule and requires the choice of penalty parameter <code>alpha</code> to determine the importance of the $\ell_1$ penalty.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.linear_model <span class="keyword">import</span> Lasso</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">l = Lasso(alpha=<span class="number">0.15</span>).fit(Xt_scaled, yt)</span><br><span class="line">print(<span class="string">&quot;lasso rmse:&quot;</span>, model_fit(l, Xv_scaled, yv, plot=<span class="literal">True</span>))</span><br><span class="line">print(<span class="string">&quot;lasso coefs:&quot;</span>, get_coefs(l))</span><br></pre></td></tr></table></figure>
<pre><code>lasso rmse: 0.6758018477937713
lasso coefs: [ 2.46667716  0.54132589  0.20509456 -0.          0.04944616  0.1265567
  0.          0.          0.03884322]
</code></pre><hr>
<h3 id="diams-Exercise-14"><a href="#diams-Exercise-14" class="headerlink" title="&diams; Exercise 14"></a>&diams; Exercise 14</h3><p>Adjust the value of <code>alpha</code> in the cell above and rerun it. How does the model fit change as alpha changes? How does the validation rmse change?</p>
<p><em>Large values of $\alpha$ negatively impact the model fit as the $\beta$s are shrunk to 0, values around 0.1 to 0.2 produce an improved rmse</em></p>
<hr>
<h2 id="3-1-Lasso-beta-s-as-a-function-of-alpha"><a href="#3-1-Lasso-beta-s-as-a-function-of-alpha" class="headerlink" title="3.1 Lasso $\beta$s as a function of $\alpha$"></a>3.1 Lasso $\beta$s as a function of $\alpha$</h2><p>As with Ridge regression we can examine the values of $\beta$ we obtain as tuning parameter $\alpha$ is adjusted. </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">alphas = np.linspace(<span class="number">0.01</span>, <span class="number">1</span>, num=<span class="number">100</span>)</span><br><span class="line">betas = [] <span class="comment"># Store coefficients</span></span><br><span class="line">rmses = [] <span class="comment"># Store validation rmses</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> a <span class="keyword">in</span> alphas:</span><br><span class="line">    m = Lasso(alpha=a).fit(Xt_scaled, yt)</span><br><span class="line">    betas.append(m.coef_) <span class="comment"># Again ignore the intercept since it isn&#x27;t included in the penalty</span></span><br><span class="line">    rmses.append(model_fit(m, Xv_scaled, yv))</span><br><span class="line"></span><br><span class="line">res = pd.DataFrame(</span><br><span class="line">    data = betas,       <span class="comment"># Coefficients</span></span><br><span class="line">    columns = X.columns <span class="comment"># Coefficient names</span></span><br><span class="line">).assign(</span><br><span class="line">    alpha = alphas,     <span class="comment"># Add alpahs</span></span><br><span class="line">    rmse = rmses        <span class="comment"># Add validation rmses</span></span><br><span class="line">).melt(</span><br><span class="line">    id_vars = (<span class="string">&#x27;alpha&#x27;</span>, <span class="string">&#x27;rmse&#x27;</span>) <span class="comment"># Move columns into the rows</span></span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sns.lineplot(x=<span class="string">&#x27;alpha&#x27;</span>, y=<span class="string">&#x27;value&#x27;</span>, hue=<span class="string">&#x27;variable&#x27;</span>, data=res).set_title(<span class="string">&quot;Coefficients&quot;</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<hr>
<h3 id="diams-Exercise-14-1"><a href="#diams-Exercise-14-1" class="headerlink" title="&diams; Exercise 14"></a>&diams; Exercise 14</h3><p>How does the relationship between the $\beta$s and $\alpha$ differ from what we saw with the Ridge regression results. </p>
<p><em>Values of $\alpha$ are much smaller and we see more rapid shrinkage towards 0 and then coefs exactly equaling 0.</em></p>
<hr>
<h2 id="3-2-Tuning-Lasso"><a href="#3-2-Tuning-Lasso" class="headerlink" title="3.2 Tuning Lasso"></a>3.2 Tuning Lasso</h2><p>We can again use the <code>GridSearchCV</code> function to tune our Lasso model and optimize the $\alpha$ hyperparameter. We avoid using $\alpha = 0$ as this causes a warning due to the fitting method (coordinate descent) not converging well without regularization (the $\ell_1$ penalty here).</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">alphas = np.linspace(<span class="number">0.01</span>, <span class="number">1</span>, num=<span class="number">100</span>)</span><br><span class="line"></span><br><span class="line">l_gs = GridSearchCV(</span><br><span class="line">    Lasso(),</span><br><span class="line">    param_grid=&#123;<span class="string">&#x27;alpha&#x27;</span>: alphas&#125;,</span><br><span class="line">    cv=KFold(<span class="number">5</span>, <span class="literal">True</span>, random_state=<span class="number">1234</span>),</span><br><span class="line">    scoring=<span class="string">&quot;neg_root_mean_squared_error&quot;</span></span><br><span class="line">).fit(Xt_scaled, yt)</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">print( <span class="string">&quot;best alpha:&quot;</span>, l_gs.best_params_[<span class="string">&#x27;alpha&#x27;</span>])</span><br><span class="line">print( <span class="string">&quot;best rmse :&quot;</span>, l_gs.best_score_ * <span class="number">-1</span>)</span><br><span class="line">print( <span class="string">&quot;validation rmse:&quot;</span>, model_fit(l_gs.best_estimator_, Xv_scaled, yv) )</span><br></pre></td></tr></table></figure>
<pre><code>best alpha: 0.01
best rmse : 0.8421514849503193
validation rmse: 0.7063579713283387
</code></pre><p>Worryingly, the chosen alpha is the smallest value provided to our grid search, and hence it has selected the model closest to a linear regression model. We can investigate this further by plotting $\alpha$ versus the <code>mean_test_score</code> values from the <code>cv_results_</code> attribute. </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">l_cv_res = pd.DataFrame().assign(</span><br><span class="line">    alpha = alphas,</span><br><span class="line">    rmse = <span class="number">-1</span> * l_gs.cv_results_[<span class="string">&#x27;mean_test_score&#x27;</span>],           <span class="comment"># mean of the rmse over the folds</span></span><br><span class="line">    rmse_se = l_gs.cv_results_[<span class="string">&#x27;std_test_score&#x27;</span>] / np.sqrt(l_gs.n_splits_), <span class="comment"># standard error of the rmse</span></span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">plt.figure(figsize=(<span class="number">14</span>, <span class="number">6</span>))</span><br><span class="line">        </span><br><span class="line">plt.subplot(<span class="number">121</span>)</span><br><span class="line">sns.lineplot(x=<span class="string">&#x27;alpha&#x27;</span>, y=<span class="string">&#x27;rmse&#x27;</span>, data=l_cv_res)</span><br><span class="line"></span><br><span class="line">plt.subplot(<span class="number">122</span>)</span><br><span class="line">sns.lineplot(x=<span class="string">&#x27;alpha&#x27;</span>, y=<span class="string">&#x27;rmse&#x27;</span>, data=l_cv_res).set_xscale(<span class="string">&#x27;log&#x27;</span>)</span><br></pre></td></tr></table></figure>
<p>In this case it appears that the model’s rmses nearly monotonically increase as $\alpha$ increases. This indicates that the CV proceedure is exhibiting a preference for the linear regression mode, i.e. a lasso model with no shrinkage. We can check this explicitly by fitting the <code>LinearRegression</code> with <code>GridSearchCV</code> and comparing the cross validation rmse, this is necessary because our previous modeling did not use any CV to calculate the rmse.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">GridSearchCV(</span><br><span class="line">    LinearRegression(),</span><br><span class="line">    param_grid = &#123;&#125;,</span><br><span class="line">    cv=KFold(<span class="number">5</span>, <span class="literal">True</span>, random_state=<span class="number">1234</span>),</span><br><span class="line">    scoring=<span class="string">&quot;neg_root_mean_squared_error&quot;</span></span><br><span class="line">).fit(</span><br><span class="line">    Xt_scaled, yt</span><br><span class="line">).best_score_ * <span class="number">-1</span></span><br></pre></td></tr></table></figure>
<pre><code>0.8379041282149198
</code></pre><p>In this case the linear regression model does produce a smaller mean rmse than any of the Lasso models. This suggests our choice of model should just be the original linear regression model.</p>
<p><em>Aside</em> - However, if we examine these plots closesly, values of $\alpha$ between 0.01 and 0.1 have very similar mean rmses and there is inherent uncertainty in our estimates of these rmses based on the cross validation folds and the size of our data. One of the suggestions employed by Hastie, et al. in their <code>glmnet</code> R package is instead of using the $\alpha$ with the smallest mean rmse to instead use the largest value of $\alpha$ that has an error metric (rmse) that is within 1 standard <em>error</em> of the minimum value of the error metric (rmse). We can find this value using the <code>l_cv_res</code> data frame we previously constructed.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">i = l_cv_res.rmse.idxmin()</span><br><span class="line"></span><br><span class="line">min_rmse = l_cv_res.rmse[i]       <span class="comment"># Smallest rmse</span></span><br><span class="line">min_rmse_se = l_cv_res.rmse_se[i] <span class="comment"># Std error of the smallest rmse</span></span><br><span class="line"></span><br><span class="line">sub = l_cv_res.rmse &lt;= min_rmse + min_rmse_se <span class="comment"># Find rmses w/in 1se of the min + se</span></span><br><span class="line"></span><br><span class="line">alpha_1se = l_cv_res.alpha[ sub ].<span class="built_in">max</span>() <span class="comment"># Find the largest alpha</span></span><br><span class="line"></span><br><span class="line">alpha_1se</span><br></pre></td></tr></table></figure>
<pre><code>0.27
</code></pre><p>While this approach seems plausible / practical, it should be treated as at best a heuristic as I have not been able to track down any theoretical support for it. Note that we could also employ this strategy even if the minimal $\alpha$ had not been approximately 0 and it is still likely to be helpful as any increase in $\alpha$ is likely to reduce the number of coefficients in the final model. </p>
<hr>
<h3 id="diams-Exercise-15"><a href="#diams-Exercise-15" class="headerlink" title="&diams; Exercise 15"></a>&diams; Exercise 15</h3><p>If you were to use the $\alpha_\text{1se} = 0.27$ which variables would be excluded from the model? </p>
<p><em>‘age’, ‘lbph’, ‘lcp’, ‘gleason’, ‘pgg45’ would all have coefficients of 0 and hence be excluded from the model.</em></p>
<hr>
<h3 id="diams-Exercise-16"><a href="#diams-Exercise-16" class="headerlink" title="&diams; Exercise 16"></a>&diams; Exercise 16</h3><p>If you were to use the $\alpha_{\text{1se}} = 0.27$ what would the validation rmse be for this model? How does this compare to the other models we’ve examined so far? Why might we still prefer this model over the linear regression or Ridge model?</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">m = Lasso(alpha=<span class="number">0.27</span>).fit(Xt_scaled, yt)</span><br><span class="line">model_fit(m, Xv_scaled, yv)</span><br></pre></td></tr></table></figure>
<pre><code>0.7185033561718017
</code></pre><p><em>This model has slightly better performance than the Linear Regression model (0.722) but worse than the Ridge model (0.700), however we might prefer it as it is a far simpler model with fewer coefficients (only 4 including the intercept) than either of the alternatives.</em></p>
<hr>
<h2 id="4-Concluding-Remarks"><a href="#4-Concluding-Remarks" class="headerlink" title="4 Concluding Remarks"></a>4 Concluding Remarks</h2><p>It is important to notice that throughout the previous two sections we have taken great pains to avoid using our validation data to in any way inform our choice of the tuning parameter. Instead, we have always used <code>KFold</code> with our training data to obtain the necessary metrics for optimizing the $\alpha$ hyperparameter. This would also have been possible using the complete data <code>X</code> and would have slightly improved our rmse estimates due to the slightly larger sample sizes in the test train splits but it would then mean were repeated using the validation data in the process of determining $\alpha$ which then puts us at risk for overfitting and therefore having an overly optimistic view of our model’s uncertainty.  </p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2020/11/25/Explanatory_Data_Analysis/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Yulin Wang">
      <meta itemprop="description" content="要讲武德，要努力学习。">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="浑元形意太极门大弟子">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/11/25/Explanatory_Data_Analysis/" class="post-title-link" itemprop="url">Exploratory Data Analysis</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-11-25 11:09:52" itemprop="dateCreated datePublished" datetime="2020-11-25T11:09:52+08:00">2020-11-25</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-12-03 15:12:06" itemprop="dateModified" datetime="2020-12-03T15:12:06+08:00">2020-12-03</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Explanatory-Data-Analysis"><a href="#Explanatory-Data-Analysis" class="headerlink" title="Explanatory Data Analysis"></a>Explanatory Data Analysis</h1><h2 id="0-引言"><a href="#0-引言" class="headerlink" title="0. 引言"></a>0. 引言</h2><p><strong>1.</strong> 探索性数据分析/机器学习/深度学习等等，一般用到数据，并且分析数据，以期获得inference或者predict的，都可以借用这一套流程。</p>
<p><strong>2.</strong> 很多时候需要构建出一个目标函数，以期获得最优解/满意解。</p>
<p><strong>3. Feature Selection</strong> 决定机器学习上限</p>
<p><strong>4. Model Selection</strong> 提高机器学习下限</p>
<p><strong>5. 分析一下属于Regression还是Classification</strong></p>
<h2 id="1-导入包"><a href="#1-导入包" class="headerlink" title="1. 导入包"></a>1. 导入包</h2><p>==Note== 在下载Python Extension Packages的扩展API时/在使用github时/MySQL……安装，运行时总会遇到千奇百怪的问题。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># R可视化效果也不错，ggplot2 and shiny</span></span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line">print(os.path.abspath(<span class="string">&#x27;.&#x27;</span>)) <span class="comment">#先看看工作路径</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 探索性学习老五样</span></span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">import</span> matplotlib <span class="keyword">as</span> mpl</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> seaborn <span class="keyword">as</span> sns</span><br><span class="line">sns, set_style(<span class="string">&quot;whitegrid&quot;</span>)</span><br><span class="line">%matplotlib inline <span class="comment">#jupyter中能够将可视化的图片在结果中展示出来</span></span><br><span class="line"><span class="keyword">import</span> warnings</span><br><span class="line">warnings.filterwarings(<span class="string">&quot;ignore&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>对数据的初始处理。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">data = pd.read_csv(<span class="string">&quot;Name.csv&quot;</span>)</span><br><span class="line"></span><br><span class="line">data.info() <span class="comment">#看看是否有缺失数据，看看数据的各种类型。可以参考R中的MICE包，比较常见。</span></span><br><span class="line">data.column.fillna(<span class="string">&#x27;target value&#x27;</span>, inplace = <span class="literal">True</span>) <span class="comment">#True将原始数据也修改了，False仅仅修改视图</span></span><br><span class="line"></span><br><span class="line">data.head() <span class="comment">#看看数据构成，具体有哪些features</span></span><br><span class="line"></span><br><span class="line">pd.get_dummies(data.column) <span class="comment">#将目标categorical column变成dummy variable</span></span><br><span class="line"></span><br><span class="line">data.describe() <span class="comment">#查看一下数值型数据mean, standard deviation,  standard error, min, max, 25/50/75 quantile，可以发现一些异常值</span></span><br><span class="line"></span><br><span class="line">data.column.value_counts() <span class="comment">#重复行计数</span></span><br><span class="line"></span><br><span class="line">data.column.unique() <span class="comment">#对于离散型的feature, 看看有多少种类</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<ol>
<li>进行数据切分，可以根据某一个special column，处理tidy data</li>
<li>合并或者转化成New column</li>
<li>Principle Component Analysis进行dimension reduction</li>
<li>Normalize continuous features and neutralize skewness，提高数据集中程度，right-skewed进行log，left-skew进行power。都是为了方便regression/classification</li>
<li>总之，依据上述一些步骤，结合某些最基础的机器学习方法，例如linear regression和logistic regression, 得到一个baseline model.</li>
</ol>
<h2 id="2-特征清洗"><a href="#2-特征清洗" class="headerlink" title="2. 特征清洗"></a>2. 特征清洗</h2><h3 id="1-Missing-Data-Process"><a href="#1-Missing-Data-Process" class="headerlink" title="1. Missing Data Process"></a>1. Missing Data Process</h3><p>查看一下数据的缺失pattern和缺失mechanism。</p>
<p>Pattern可能是单一，连续的，随机的。</p>
<p>Mechanism可能是MCAR, MNAR, MAR。</p>
<p>除了基于经验判断Mechanisim之外，也可以依靠画scatterplot来区分。</p>
<p>==Note== 处理缺失值有许多的方法。像KNN，Random forest本身也是一种预测：依靠 $y_{obs}$ 去预测 $y_{mis}$的值。可以groupby某些特定列，来看缺失值是否是MAR.</p>
<p>常用mean imputation, 该方法会降低variance, 但是比较快速。</p>
<p>multiple imputation更完善，填补多列有缺失的情况，体现了一个递归的思想。</p>
<p>impute -&gt; analysis -&gt; pool三步走，pool步骤依据Rubin’s Rule.</p>
<p>Bayesian MI:</p>
<ol>
<li><p>根据observed data去得到参数的后验分布，从参数的后验分布得到一个$\theta$。Missing value从 $f(\theta)$</p>
<p>中获得。然后得到一个 complete data set, 去估计参数。</p>
</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># R mice::md.pattern</span></span><br><span class="line"><span class="comment"># Python</span></span><br><span class="line"><span class="keyword">import</span> missingno <span class="comment">#处理缺失数据 没用过</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> folium <span class="comment">#处理和地图有关的数据时候用的一个API</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="2-Extreme-Values"><a href="#2-Extreme-Values" class="headerlink" title="2. Extreme Values"></a>2. Extreme Values</h3><h2 id="3-特征规范化"><a href="#3-特征规范化" class="headerlink" title="3. 特征规范化"></a>3. 特征规范化</h2><h3 id="1-连续变量"><a href="#1-连续变量" class="headerlink" title="1. 连续变量"></a>1. 连续变量</h3><ol>
<li>Kurtosis峰度，总体所有取值分布于正态分布的相同程度。0表示一致，大于0则陡峭，小于0则平坦。绝对值越大，则与正态分布差异越大。</li>
<li>Skewness，总体分布的对称性。大于0右偏，即长尾拖在右边，小于0左偏</li>
</ol>
<h3 id="2-离散变量"><a href="#2-离散变量" class="headerlink" title="2. 离散变量"></a>2. 离散变量</h3><ol>
<li><p>有序的可以使用1,2,3等。比如疾病的严重程度：轻微/中度/全村吃饭。</p>
</li>
<li><p>无序的dummy variable是一种。one-hot coding是另一种。但是他们比较类似。</p>
</li>
</ol>
<h2 id="4-特征提取和衍生"><a href="#4-特征提取和衍生" class="headerlink" title="4. 特征提取和衍生"></a>4. 特征提取和衍生</h2><ol>
<li>PCA进行降维。协方差矩阵，特征值降序排列。$\frac{\lambda_{1}+…+\lambda_{m}}{\sum_{i=1}^{n}\lambda_{i}}$所占的proportation够大，后面$n-p$个feature可以直接删除。</li>
<li>中间可以进行<strong>特征相关性</strong>分析，也可以降维。</li>
<li>还有一种降维的方式，就是在训练模型的时候引入<strong>惩罚项</strong>, 例如Lasso中的L1, Ridge里面的L2, 前者直接将变量的coef取0值，后者使coef趋于0. </li>
<li>数值变量可以进行互相的<strong>多项式组合</strong>来构造新的变量。</li>
<li>对于分类变量，可以直接将该分类变量的n个取值one-code, 也可以将n个取值划分为sub-group, 然后进行one-code.</li>
<li>当NLP时，TFIDF, Length可能是需要额外考虑的。此处不进行展开讨论，NLP不是研究的范围。</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pivottablejs <span class="comment">#查看数据相关性 没用过</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> pandas_profiling <span class="comment">#数据质量探索的一个包</span></span><br><span class="line"><span class="comment"># rejected表示和其他变量相关性非常高，可以剔除该变量</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="5-Visualization-可视化"><a href="#5-Visualization-可视化" class="headerlink" title="5. Visualization 可视化"></a>5. Visualization 可视化</h2><p>上述所有步骤，都可以结合Visualization。单纯的查询数值，没有可视化后那么直观。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># seaborn</span></span><br><span class="line"><span class="comment"># matplotlib</span></span><br><span class="line"></span><br><span class="line">sns.pairplot() <span class="comment">#连续变量之间</span></span><br><span class="line">scatterplot() <span class="comment">#离散变量之间</span></span><br><span class="line">boxplot/violinplot() <span class="comment">#连续X离散</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="6-建模"><a href="#6-建模" class="headerlink" title="6. 建模"></a>6. 建模</h2><p>参照另外一篇<strong>ML_DS</strong>.</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2020/11/25/The-Introduction-of-Myself/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Yulin Wang">
      <meta itemprop="description" content="要讲武德，要努力学习。">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="浑元形意太极门大弟子">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/11/25/The-Introduction-of-Myself/" class="post-title-link" itemprop="url">Welcome to my personal CV github.</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-11-25 10:31:18" itemprop="dateCreated datePublished" datetime="2020-11-25T10:31:18+08:00">2020-11-25</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-12-03 16:15:22" itemprop="dateModified" datetime="2020-12-03T16:15:22+08:00">2020-12-03</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>我拥有的技能：还是数学有意思，但是上升到测度论就打扰了。</p>
<p>我喜欢的课程：Statistics and Machine Learning.</p>
<h2 id="掌握的杂七杂八的技能以及一些课程。"><a href="#掌握的杂七杂八的技能以及一些课程。" class="headerlink" title="掌握的杂七杂八的技能以及一些课程。"></a>掌握的杂七杂八的技能以及一些课程。</h2><h3 id="Bayesian-Theory-and-Some-Algorithm"><a href="#Bayesian-Theory-and-Some-Algorithm" class="headerlink" title="Bayesian Theory and Some Algorithm."></a>Bayesian Theory and Some Algorithm.</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">1. Metropolis Hastings and Gibbs Sampling</span><br><span class="line">2. Simulated Annealing</span><br><span class="line">3. Climbing Hills</span><br><span class="line">4. Hidden Markov Model</span><br><span class="line">5. For Regression Trees:</span><br><span class="line">        1) ID 3</span><br><span class="line">        2) C4.5</span><br><span class="line">        3) CART</span><br><span class="line">6. Linear Regression and Nonlinear(especially <span class="keyword">for</span> the Basis Function Expansions),</span><br><span class="line">some common models are like RBF(Radial) and Kernel Tricks.</span><br><span class="line">7. SVM(Support Vector Machines). Project low dimensions to high dimension.</span><br></pre></td></tr></table></figure>
<h3 id="Codes-ability"><a href="#Codes-ability" class="headerlink" title="Codes ability"></a>Codes ability</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">1. Python(Pycharm, Jupyter and Spyder) Anaconda. </span><br><span class="line">        1) NLP: nltk </span><br><span class="line">        2) ML: scikit-learn</span><br><span class="line">        3) Computer Vision: OpenCV</span><br><span class="line">2. R Language: visualization and Rmarkdown(I really love it.)</span><br><span class="line">3. C(Codeblocks)</span><br></pre></td></tr></table></figure>
<h3 id="Something-useful"><a href="#Something-useful" class="headerlink" title="Something useful?"></a>Something useful?</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">1. Github and Git</span><br><span class="line">2. Typora <span class="keyword">for</span> Markdown</span><br><span class="line">3. Link Github and hexo (node.js)</span><br></pre></td></tr></table></figure>
<h3 id="Language-ability"><a href="#Language-ability" class="headerlink" title="Language ability"></a>Language ability</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">English: IELTS 7.0; GRE 320; CET 6 567</span><br><span class="line">Chinese: weibo 冲浪高手</span><br><span class="line">Janpanes: ...</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2020/11/20/Something-about-Hexo/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Yulin Wang">
      <meta itemprop="description" content="要讲武德，要努力学习。">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="浑元形意太极门大弟子">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/11/20/Something-about-Hexo/" class="post-title-link" itemprop="url">My first blog</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-11-20 15:24:07" itemprop="dateCreated datePublished" datetime="2020-11-20T15:24:07+08:00">2020-11-20</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-12-03 16:15:00" itemprop="dateModified" datetime="2020-12-03T16:15:00+08:00">2020-12-03</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="如何撰写一篇Markdown"><a href="#如何撰写一篇Markdown" class="headerlink" title="如何撰写一篇Markdown"></a>如何撰写一篇Markdown</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">$ hexo clean</span><br><span class="line"># Clean files.</span><br><span class="line"></span><br><span class="line">$ hexo new &quot;The title of new files&quot;</span><br><span class="line"></span><br><span class="line">$ hexo generate</span><br><span class="line"># 生成</span><br><span class="line"></span><br><span class="line">$ hexo server</span><br><span class="line"># Localcost:4000 本地查看</span><br><span class="line"></span><br><span class="line">$ hexo deploy</span><br><span class="line"># 远程部署至Github</span><br></pre></td></tr></table></figure>
<ol>
<li>使用hexo n “Name of Your New Document”</li>
<li>使用typora进行Markdown编辑，反正比Word好用。</li>
</ol>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Yulin Wang</p>
  <div class="site-description" itemprop="description">要讲武德，要努力学习。</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">5</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Yulin Wang</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> 强力驱动
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  
      

<script>
  if (typeof MathJax === 'undefined') {
    window.MathJax = {
      loader: {
        source: {
          '[tex]/amsCd': '[tex]/amscd',
          '[tex]/AMScd': '[tex]/amscd'
        }
      },
      tex: {
        inlineMath: {'[+]': [['$', '$']]},
        tags: 'ams'
      },
      options: {
        renderActions: {
          findScript: [10, doc => {
            document.querySelectorAll('script[type^="math/tex"]').forEach(node => {
              const display = !!node.type.match(/; *mode=display/);
              const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display);
              const text = document.createTextNode('');
              node.parentNode.replaceChild(text, node);
              math.start = {node: text, delim: '', n: 0};
              math.end = {node: text, delim: '', n: 0};
              doc.math.push(math);
            });
          }, '', false],
          insertedScript: [200, () => {
            document.querySelectorAll('mjx-container').forEach(node => {
              let target = node.parentNode;
              if (target.nodeName.toLowerCase() === 'li') {
                target.parentNode.classList.add('has-jax');
              }
            });
          }, '', false]
        }
      }
    };
    (function () {
      var script = document.createElement('script');
      script.src = '//cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js';
      script.defer = true;
      document.head.appendChild(script);
    })();
  } else {
    MathJax.startup.document.state(0);
    MathJax.texReset();
    MathJax.typeset();
  }
</script>

    

  

</body>
</html>
